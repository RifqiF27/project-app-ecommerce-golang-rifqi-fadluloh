{"L":"INFO","T":"2024-11-20T14:54:42.932+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T14:54:42.933+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T14:54:42.990+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-20T14:54:42.990+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-20T14:54:42.991+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-20T14:54:50.299+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-20T14:54:50.299+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"ERROR","T":"2024-11-20T14:54:50.310+0700","M":"Repository: failed to execute count query","error":"pq: relation \"transactions\" does not exist"}
{"L":"ERROR","T":"2024-11-20T14:54:50.310+0700","M":"Handler: Error getting products","error":"pq: relation \"transactions\" does not exist"}
{"L":"INFO","T":"2024-11-20T14:54:50.310+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"11.5434ms"}
{"L":"INFO","T":"2024-11-20T15:21:22.199+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T15:21:22.200+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T15:21:22.242+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-20T15:21:22.242+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-20T15:21:22.242+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-20T15:21:26.043+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-20T15:21:26.044+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T15:21:26.050+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\t(p.price * (1 - COALESCE(wp.discount_percentage, 0) / 100)) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS total_users\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tJOIN orders o ON oi.order_id = o.id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"ERROR","T":"2024-11-20T15:21:26.051+0700","M":"Repository: failed to scan row","error":"sql: expected 8 destination arguments in Scan, not 7"}
{"L":"ERROR","T":"2024-11-20T15:21:26.052+0700","M":"Handler: Error getting products","error":"sql: expected 8 destination arguments in Scan, not 7"}
{"L":"INFO","T":"2024-11-20T15:21:26.052+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"9.1616ms"}
{"L":"INFO","T":"2024-11-20T15:24:18.459+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T15:24:18.460+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T15:24:18.499+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-20T15:24:18.500+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-20T15:24:18.500+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-20T15:24:23.312+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-20T15:24:23.312+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T15:24:23.317+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\t(p.price * (1 - COALESCE(wp.discount_percentage, 0) / 100)) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS total_users\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tJOIN orders o ON oi.order_id = o.id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-20T15:24:23.319+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"6.9499ms"}
{"L":"INFO","T":"2024-11-20T15:24:58.309+0700","M":"Request received","method":"GET","url":"/api/products?page=5"}
{"L":"INFO","T":"2024-11-20T15:24:58.309+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T15:24:58.311+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\t(p.price * (1 - COALESCE(wp.discount_percentage, 0) / 100)) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS total_users\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tJOIN orders o ON oi.order_id = o.id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,20]}
{"L":"WARN","T":"2024-11-20T15:24:58.312+0700","M":"Handler: No products found","name":"","category_id":0}
{"L":"INFO","T":"2024-11-20T15:24:58.312+0700","M":"Request processed","method":"GET","url":"/api/products?page=5","duration":"3.1525ms"}
{"L":"INFO","T":"2024-11-20T15:25:04.429+0700","M":"Request received","method":"GET","url":"/api/products?page=4"}
{"L":"INFO","T":"2024-11-20T15:25:04.429+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T15:25:04.433+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\t(p.price * (1 - COALESCE(wp.discount_percentage, 0) / 100)) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS total_users\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tJOIN orders o ON oi.order_id = o.id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,15]}
{"L":"WARN","T":"2024-11-20T15:25:04.435+0700","M":"Handler: No products found","name":"","category_id":0}
{"L":"INFO","T":"2024-11-20T15:25:04.435+0700","M":"Request processed","method":"GET","url":"/api/products?page=4","duration":"5.6549ms"}
{"L":"INFO","T":"2024-11-20T15:25:11.868+0700","M":"Request received","method":"GET","url":"/api/products?page=2"}
{"L":"INFO","T":"2024-11-20T15:25:11.869+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T15:25:11.872+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\t(p.price * (1 - COALESCE(wp.discount_percentage, 0) / 100)) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS total_users\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tJOIN orders o ON oi.order_id = o.id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,5]}
{"L":"INFO","T":"2024-11-20T15:25:11.873+0700","M":"Request processed","method":"GET","url":"/api/products?page=2","duration":"5.1156ms"}
{"L":"INFO","T":"2024-11-20T15:25:20.332+0700","M":"Request received","method":"GET","url":"/api/products?page=3"}
{"L":"INFO","T":"2024-11-20T15:25:20.332+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T15:25:20.334+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\t(p.price * (1 - COALESCE(wp.discount_percentage, 0) / 100)) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS total_users\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tJOIN orders o ON oi.order_id = o.id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,10]}
{"L":"WARN","T":"2024-11-20T15:25:20.336+0700","M":"Handler: No products found","name":"","category_id":0}
{"L":"INFO","T":"2024-11-20T15:25:20.336+0700","M":"Request processed","method":"GET","url":"/api/products?page=3","duration":"4.6077ms"}
{"L":"INFO","T":"2024-11-20T15:26:20.470+0700","M":"Request received","method":"GET","url":"/api/products?page=1"}
{"L":"INFO","T":"2024-11-20T15:26:20.471+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T15:26:20.474+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\t(p.price * (1 - COALESCE(wp.discount_percentage, 0) / 100)) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS total_users\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tJOIN orders o ON oi.order_id = o.id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-20T15:26:20.475+0700","M":"Request processed","method":"GET","url":"/api/products?page=1","duration":"4.7526ms"}
{"L":"INFO","T":"2024-11-20T15:37:24.095+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T15:37:24.096+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T15:37:24.145+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-20T15:37:24.146+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-20T15:37:24.147+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-20T15:37:29.523+0700","M":"Request received","method":"GET","url":"/api/products?page=1"}
{"L":"INFO","T":"2024-11-20T15:37:29.529+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T15:37:29.537+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\t(p.price * (1 - COALESCE(wp.discount_percentage, 0) / 100)) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS total_users\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-20T15:37:29.540+0700","M":"Request processed","method":"GET","url":"/api/products?page=1","duration":"16.7614ms"}
{"L":"INFO","T":"2024-11-20T15:37:38.011+0700","M":"Request received","method":"GET","url":"/api/products?page=4"}
{"L":"INFO","T":"2024-11-20T15:37:38.011+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T15:37:38.014+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\t(p.price * (1 - COALESCE(wp.discount_percentage, 0) / 100)) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS total_users\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,15]}
{"L":"INFO","T":"2024-11-20T15:37:38.015+0700","M":"Request processed","method":"GET","url":"/api/products?page=4","duration":"3.9173ms"}
{"L":"INFO","T":"2024-11-20T15:37:52.600+0700","M":"Request received","method":"GET","url":"/api/products?page=2"}
{"L":"INFO","T":"2024-11-20T15:37:52.600+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T15:37:52.602+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\t(p.price * (1 - COALESCE(wp.discount_percentage, 0) / 100)) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS total_users\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,5]}
{"L":"INFO","T":"2024-11-20T15:37:52.603+0700","M":"Request processed","method":"GET","url":"/api/products?page=2","duration":"2.8865ms"}
{"L":"INFO","T":"2024-11-20T17:08:21.275+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T17:08:21.279+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T17:08:21.399+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-20T17:08:21.400+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-20T17:08:21.400+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-20T17:08:27.636+0700","M":"Request received","method":"GET","url":"/api/products?page=2"}
{"L":"INFO","T":"2024-11-20T17:08:27.636+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T17:08:27.661+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\tp.price * (1 - CAST(COALESCE(wp.discount_percentage, 0) AS FLOAT) / 100) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS total_users\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,5]}
{"L":"INFO","T":"2024-11-20T17:08:27.667+0700","M":"Request processed","method":"GET","url":"/api/products?page=2","duration":"31.0904ms"}
{"L":"INFO","T":"2024-11-20T17:09:04.128+0700","M":"Request received","method":"GET","url":"/api/products?category_id=1"}
{"L":"INFO","T":"2024-11-20T17:09:04.129+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T17:09:04.138+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\tp.price * (1 - CAST(COALESCE(wp.discount_percentage, 0) AS FLOAT) / 100) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS total_users\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t AND p.category_id = $1 GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $2 OFFSET $3","params":[1,5,0]}
{"L":"INFO","T":"2024-11-20T17:09:04.143+0700","M":"Request processed","method":"GET","url":"/api/products?category_id=1","duration":"14.7182ms"}
{"L":"INFO","T":"2024-11-20T17:10:37.272+0700","M":"Request received","method":"GET","url":"/api/products?name=lap"}
{"L":"INFO","T":"2024-11-20T17:10:37.273+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T17:10:37.282+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\tp.price * (1 - CAST(COALESCE(wp.discount_percentage, 0) AS FLOAT) / 100) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS total_users\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t AND p.name ILIKE $1 GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $2 OFFSET $3","params":["%lap%",5,0]}
{"L":"INFO","T":"2024-11-20T17:10:37.285+0700","M":"Request processed","method":"GET","url":"/api/products?name=lap","duration":"13.3102ms"}
{"L":"INFO","T":"2024-11-20T17:10:58.243+0700","M":"Request received","method":"GET","url":"/api/products?name=gam"}
{"L":"INFO","T":"2024-11-20T17:10:58.245+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T17:10:58.249+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\tp.price * (1 - CAST(COALESCE(wp.discount_percentage, 0) AS FLOAT) / 100) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS total_users\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t AND p.name ILIKE $1 GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $2 OFFSET $3","params":["%gam%",5,0]}
{"L":"INFO","T":"2024-11-20T17:10:58.251+0700","M":"Request processed","method":"GET","url":"/api/products?name=gam","duration":"7.7251ms"}
{"L":"INFO","T":"2024-11-20T17:13:04.788+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T17:13:04.791+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T17:13:04.945+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-20T17:13:04.946+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-20T17:13:04.947+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-20T17:13:14.838+0700","M":"Request received","method":"GET","url":"/api/products?name=gam"}
{"L":"INFO","T":"2024-11-20T17:13:14.846+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T17:13:14.868+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\tp.price * (1 - CAST(COALESCE(wp.discount_percentage, 0) AS FLOAT) / 100) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS sold\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t AND p.name ILIKE $1 GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $2 OFFSET $3","params":["%gam%",5,0]}
{"L":"INFO","T":"2024-11-20T17:13:14.878+0700","M":"Request processed","method":"GET","url":"/api/products?name=gam","duration":"39.1858ms"}
{"L":"INFO","T":"2024-11-20T17:13:23.666+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-20T17:13:23.667+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T17:13:23.674+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\tp.price * (1 - CAST(COALESCE(wp.discount_percentage, 0) AS FLOAT) / 100) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS sold\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-20T17:13:23.678+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"11.4077ms"}
{"L":"INFO","T":"2024-11-20T20:37:47.682+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T20:37:47.682+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T20:37:47.727+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-20T20:37:47.728+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-20T20:37:47.729+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-20T20:37:51.542+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-20T20:37:51.542+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T20:37:51.559+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\tp.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS sold\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-20T20:37:51.564+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"21.7822ms"}
{"L":"INFO","T":"2024-11-20T20:38:35.903+0700","M":"Request received","method":"GET","url":"/api/products?page=2"}
{"L":"INFO","T":"2024-11-20T20:38:35.904+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T20:38:35.906+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\tp.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS sold\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,5]}
{"L":"INFO","T":"2024-11-20T20:38:35.908+0700","M":"Request processed","method":"GET","url":"/api/products?page=2","duration":"5.4812ms"}
{"L":"INFO","T":"2024-11-20T20:39:39.680+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-20T20:39:39.680+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T20:39:39.681+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\tp.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS sold\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-20T20:39:39.682+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"1.9537ms"}
{"L":"INFO","T":"2024-11-20T22:03:23.804+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T22:03:23.805+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T22:03:23.857+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-20T22:03:23.858+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-20T22:03:23.859+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-20T22:03:37.688+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-20T22:03:37.688+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-20T22:03:37.699+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\tp.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS sold\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-20T22:03:37.699+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"11.0823ms"}
{"L":"INFO","T":"2024-11-20T22:04:32.569+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-20T22:04:32.569+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"ERROR","T":"2024-11-20T22:04:32.571+0700","M":"Repository: failed to scan row","error":"sql: Scan error on column index 2, name \"images\": unsupported Scan, storing driver.Value type []uint8 into type *[]string"}
{"L":"ERROR","T":"2024-11-20T22:04:32.571+0700","M":"Handler: Destination not found","error":"sql: Scan error on column index 2, name \"images\": unsupported Scan, storing driver.Value type []uint8 into type *[]string"}
{"L":"INFO","T":"2024-11-20T22:04:32.571+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"2.5276ms"}
{"L":"INFO","T":"2024-11-20T22:13:10.917+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T22:13:10.919+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T22:13:11.030+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-20T22:13:11.031+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-20T22:13:11.043+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-20T22:13:16.365+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-20T22:13:16.366+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"INFO","T":"2024-11-20T22:13:16.384+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"19.4477ms"}
{"L":"INFO","T":"2024-11-20T22:13:36.828+0700","M":"Request received","method":"GET","url":"/api/products/6"}
{"L":"INFO","T":"2024-11-20T22:13:36.828+0700","M":"Handler: Received request","method":"GET","path":"/api/products/6"}
{"L":"INFO","T":"2024-11-20T22:13:36.832+0700","M":"Request processed","method":"GET","url":"/api/products/6","duration":"3.6772ms"}
{"L":"INFO","T":"2024-11-20T22:44:36.777+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T22:44:36.780+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T22:44:36.912+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-20T22:44:36.913+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-20T22:44:36.914+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-20T22:45:36.396+0700","M":"Request received","method":"GET","url":"/api/categories"}
{"L":"INFO","T":"2024-11-20T22:45:36.406+0700","M":"Handler: Received request","method":"GET","path":"/api/categories"}
{"L":"ERROR","T":"2024-11-20T22:45:36.416+0700","M":"Handler: Error getting categories","error":"sql: expected 3 destination arguments in Scan, not 2"}
{"L":"INFO","T":"2024-11-20T22:45:36.420+0700","M":"Request processed","method":"GET","url":"/api/categories","duration":"24.4822ms"}
{"L":"INFO","T":"2024-11-20T22:46:57.015+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T22:46:57.017+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-20T22:46:57.160+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-20T22:46:57.161+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-20T22:46:57.162+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-20T22:47:01.837+0700","M":"Request received","method":"GET","url":"/api/categories"}
{"L":"INFO","T":"2024-11-20T22:47:01.839+0700","M":"Handler: Received request","method":"GET","path":"/api/categories"}
{"L":"INFO","T":"2024-11-20T22:47:01.844+0700","M":"Request processed","method":"GET","url":"/api/categories","duration":"6.6673ms"}
{"L":"INFO","T":"2024-11-21T01:04:21.167+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T01:04:21.168+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T01:04:21.269+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T01:04:21.269+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T01:04:21.269+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T01:04:47.617+0700","M":"Request received","method":"GET","url":"/api/banners"}
{"L":"INFO","T":"2024-11-21T01:04:47.618+0700","M":"Handler: Received request","method":"GET","path":"/api/banners"}
{"L":"ERROR","T":"2024-11-21T01:04:47.634+0700","M":"Repository: failed to execute query","error":"pq: missing FROM-clause entry for table \"p\""}
{"L":"ERROR","T":"2024-11-21T01:04:47.635+0700","M":"Handler: Error getting banners","error":"pq: missing FROM-clause entry for table \"p\""}
{"L":"INFO","T":"2024-11-21T01:04:47.636+0700","M":"Request processed","method":"GET","url":"/api/banners","duration":"19.1793ms"}
{"L":"INFO","T":"2024-11-21T01:07:40.930+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T01:07:40.932+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T01:07:40.975+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T01:07:40.976+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T01:07:40.976+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T01:07:45.868+0700","M":"Request received","method":"GET","url":"/api/banners"}
{"L":"INFO","T":"2024-11-21T01:07:45.868+0700","M":"Handler: Received request","method":"GET","path":"/api/banners"}
{"L":"INFO","T":"2024-11-21T01:07:45.886+0700","M":"Request processed","method":"GET","url":"/api/banners","duration":"18.7578ms"}
{"L":"INFO","T":"2024-11-21T01:08:10.725+0700","M":"Request received","method":"GET","url":"/api/banners?page=2"}
{"L":"INFO","T":"2024-11-21T01:08:10.725+0700","M":"Handler: Received request","method":"GET","path":"/api/banners"}
{"L":"INFO","T":"2024-11-21T01:08:10.726+0700","M":"Request processed","method":"GET","url":"/api/banners?page=2","duration":"1.3102ms"}
{"L":"INFO","T":"2024-11-21T01:08:16.760+0700","M":"Request received","method":"GET","url":"/api/banners?page=6"}
{"L":"INFO","T":"2024-11-21T01:08:16.760+0700","M":"Handler: Received request","method":"GET","path":"/api/banners"}
{"L":"WARN","T":"2024-11-21T01:08:16.761+0700","M":"Handler: No banners found","page":6,"limit":1}
{"L":"INFO","T":"2024-11-21T01:08:16.761+0700","M":"Request processed","method":"GET","url":"/api/banners?page=6","duration":"1.0155ms"}
{"L":"INFO","T":"2024-11-21T01:08:25.090+0700","M":"Request received","method":"GET","url":"/api/banners?page=5"}
{"L":"INFO","T":"2024-11-21T01:08:25.090+0700","M":"Handler: Received request","method":"GET","path":"/api/banners"}
{"L":"INFO","T":"2024-11-21T01:08:25.091+0700","M":"Request processed","method":"GET","url":"/api/banners?page=5","duration":"1.6255ms"}
{"L":"INFO","T":"2024-11-21T01:10:45.487+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-21T01:10:45.487+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"INFO","T":"2024-11-21T01:10:45.514+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"26.7951ms"}
{"L":"INFO","T":"2024-11-21T01:11:26.651+0700","M":"Request received","method":"GET","url":"/api/banners"}
{"L":"INFO","T":"2024-11-21T01:11:26.651+0700","M":"Handler: Received request","method":"GET","path":"/api/banners"}
{"L":"INFO","T":"2024-11-21T01:11:26.653+0700","M":"Request processed","method":"GET","url":"/api/banners","duration":"1.5363ms"}
{"L":"INFO","T":"2024-11-21T01:46:32.918+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T01:46:32.918+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T01:46:32.969+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T01:46:32.970+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T01:46:32.970+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T01:47:20.820+0700","M":"Request received","method":"GET","url":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T01:47:20.824+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"ERROR","T":"2024-11-21T01:47:20.839+0700","M":"Repository: failed to execute query","error":"pq: missing FROM-clause entry for table \"o\""}
{"L":"ERROR","T":"2024-11-21T01:47:20.839+0700","M":"Handler: Error getting products","error":"pq: missing FROM-clause entry for table \"o\""}
{"L":"INFO","T":"2024-11-21T01:47:20.840+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling","duration":"20.62ms"}
{"L":"INFO","T":"2024-11-21T01:51:56.329+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T01:51:56.329+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T01:51:56.372+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T01:51:56.372+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T01:51:56.372+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T01:52:11.615+0700","M":"Request received","method":"GET","url":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T01:52:11.615+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"ERROR","T":"2024-11-21T01:52:11.625+0700","M":"Repository: failed to execute query","error":"pq: column \"p.id\" must appear in the GROUP BY clause or be used in an aggregate function"}
{"L":"ERROR","T":"2024-11-21T01:52:11.625+0700","M":"Handler: Error getting products","error":"pq: column \"p.id\" must appear in the GROUP BY clause or be used in an aggregate function"}
{"L":"INFO","T":"2024-11-21T01:52:11.625+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling","duration":"10.1454ms"}
{"L":"INFO","T":"2024-11-21T01:53:24.469+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T01:53:24.470+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T01:53:24.515+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T01:53:24.516+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T01:53:24.516+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T01:53:28.255+0700","M":"Request received","method":"GET","url":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T01:53:28.255+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T01:53:28.271+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling","duration":"16.2336ms"}
{"L":"INFO","T":"2024-11-21T02:02:41.670+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:02:41.670+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:02:41.720+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:02:41.720+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T02:02:41.720+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T02:03:45.192+0700","M":"Request received","method":"GET","url":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-21T02:03:45.203+0700","M":"Handler: Received request","method":"GET","path":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-21T02:03:45.228+0700","M":"Request processed","method":"GET","url":"/api/products/weekly-promotion","duration":"35.3755ms"}
{"L":"INFO","T":"2024-11-21T02:04:37.765+0700","M":"Request received","method":"GET","url":"/api/products/weekly-promotion?page=2"}
{"L":"INFO","T":"2024-11-21T02:04:37.765+0700","M":"Handler: Received request","method":"GET","path":"/api/products/weekly-promotion"}
{"L":"WARN","T":"2024-11-21T02:04:37.769+0700","M":"Handler: No products found","page":2,"limit":5}
{"L":"INFO","T":"2024-11-21T02:04:37.769+0700","M":"Request processed","method":"GET","url":"/api/products/weekly-promotion?page=2","duration":"4.843ms"}
{"L":"INFO","T":"2024-11-21T02:04:41.900+0700","M":"Request received","method":"GET","url":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-21T02:04:41.900+0700","M":"Handler: Received request","method":"GET","path":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-21T02:04:41.902+0700","M":"Request processed","method":"GET","url":"/api/products/weekly-promotion","duration":"2.2188ms"}
{"L":"INFO","T":"2024-11-21T02:07:52.347+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:07:52.349+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:07:52.441+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:07:52.442+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T02:07:52.442+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T02:07:58.928+0700","M":"Request received","method":"GET","url":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-21T02:07:58.930+0700","M":"Handler: Received request","method":"GET","path":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-21T02:07:58.943+0700","M":"Request processed","method":"GET","url":"/api/products/weekly-promotion","duration":"15.4874ms"}
{"L":"INFO","T":"2024-11-21T02:09:06.579+0700","M":"Request received","method":"GET","url":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T02:09:06.581+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T02:09:06.587+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling","duration":"7.6971ms"}
{"L":"INFO","T":"2024-11-21T02:09:14.449+0700","M":"Request received","method":"GET","url":"/api/products/best-selling?page=2"}
{"L":"INFO","T":"2024-11-21T02:09:14.449+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T02:09:14.452+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling?page=2","duration":"3.5522ms"}
{"L":"INFO","T":"2024-11-21T02:09:26.920+0700","M":"Request received","method":"GET","url":"/api/products/best-selling?page=4"}
{"L":"INFO","T":"2024-11-21T02:09:26.920+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"WARN","T":"2024-11-21T02:09:26.922+0700","M":"Handler: No products found","page":4,"limit":5}
{"L":"INFO","T":"2024-11-21T02:09:26.922+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling?page=4","duration":"2.9023ms"}
{"L":"INFO","T":"2024-11-21T02:09:36.932+0700","M":"Request received","method":"GET","url":"/api/products/best-selling?page=3"}
{"L":"INFO","T":"2024-11-21T02:09:36.932+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"WARN","T":"2024-11-21T02:09:36.936+0700","M":"Handler: No products found","page":3,"limit":5}
{"L":"INFO","T":"2024-11-21T02:09:36.936+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling?page=3","duration":"4.3316ms"}
{"L":"INFO","T":"2024-11-21T02:09:44.286+0700","M":"Request received","method":"GET","url":"/api/products/best-selling?page=2"}
{"L":"INFO","T":"2024-11-21T02:09:44.286+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T02:09:44.289+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling?page=2","duration":"2.7468ms"}
{"L":"INFO","T":"2024-11-21T02:10:27.437+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-21T02:10:27.438+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-21T02:10:27.440+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\tp.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS sold\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-21T02:10:27.441+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"4.072ms"}
{"L":"INFO","T":"2024-11-21T02:10:35.581+0700","M":"Request received","method":"GET","url":"/api/products?page=4"}
{"L":"INFO","T":"2024-11-21T02:10:35.581+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-21T02:10:35.584+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\tp.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS sold\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,15]}
{"L":"INFO","T":"2024-11-21T02:10:35.584+0700","M":"Request processed","method":"GET","url":"/api/products?page=4","duration":"3.4398ms"}
{"L":"INFO","T":"2024-11-21T02:10:51.872+0700","M":"Request received","method":"GET","url":"/api/products?page=5"}
{"L":"INFO","T":"2024-11-21T02:10:51.873+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-21T02:10:51.875+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\tp.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS sold\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,20]}
{"L":"WARN","T":"2024-11-21T02:10:51.878+0700","M":"Handler: No products found","name":"","category_id":0}
{"L":"INFO","T":"2024-11-21T02:10:51.878+0700","M":"Request processed","method":"GET","url":"/api/products?page=5","duration":"6.1655ms"}
{"L":"INFO","T":"2024-11-21T02:10:57.477+0700","M":"Request received","method":"GET","url":"/api/products?page=1"}
{"L":"INFO","T":"2024-11-21T02:10:57.477+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-21T02:10:57.480+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\tp.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS sold\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-21T02:10:57.480+0700","M":"Request processed","method":"GET","url":"/api/products?page=1","duration":"2.7544ms"}
{"L":"INFO","T":"2024-11-21T02:13:38.308+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:13:38.308+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:13:38.349+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:13:38.350+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T02:13:38.350+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T02:13:50.457+0700","M":"Request received","method":"GET","url":"/api/products/best-selling?page=2"}
{"L":"INFO","T":"2024-11-21T02:13:50.458+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T02:13:50.470+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n    COALESCE(wp.discount_percentage, 0) AS discount_percentage,\n    p.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n    COALESCE(AVG(r.rating), 0) AS average_rating,\n    COUNT(distinct oi.order_id) AS sold \n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN orders o ON oi.order_id = o.id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE DATE_TRUNC('month', o.created_at) = DATE_TRUNC('month', CURRENT_DATE)\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY sold DESC, p.id ASC LIMIT $1 OFFSET $2","params":[5,5]}
{"L":"INFO","T":"2024-11-21T02:13:50.472+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling?page=2","duration":"15.2118ms"}
{"L":"INFO","T":"2024-11-21T02:14:08.112+0700","M":"Request received","method":"GET","url":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T02:14:08.113+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T02:14:08.116+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n    COALESCE(wp.discount_percentage, 0) AS discount_percentage,\n    p.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n    COALESCE(AVG(r.rating), 0) AS average_rating,\n    COUNT(distinct oi.order_id) AS sold \n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN orders o ON oi.order_id = o.id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE DATE_TRUNC('month', o.created_at) = DATE_TRUNC('month', CURRENT_DATE)\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY sold DESC, p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-21T02:14:08.116+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling","duration":"4.1546ms"}
{"L":"INFO","T":"2024-11-21T02:14:56.836+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:14:56.837+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:14:56.876+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:14:56.876+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T02:14:56.876+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T02:15:39.269+0700","M":"Request received","method":"GET","url":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T02:15:39.272+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T02:15:39.307+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n    COALESCE(wp.discount_percentage, 0) AS discount_percentage,\n    p.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n    COALESCE(AVG(r.rating), 0) AS average_rating,\n    COUNT(distinct oi.order_id) AS sold \n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN orders o ON oi.order_id = o.id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE DATE_TRUNC('month', o.created_at) = DATE_TRUNC('month', CURRENT_DATE)\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY sold DESC, p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-21T02:15:39.310+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling","duration":"40.794ms"}
{"L":"INFO","T":"2024-11-21T02:15:56.126+0700","M":"Request received","method":"GET","url":"/api/products/best-selling?page=2"}
{"L":"INFO","T":"2024-11-21T02:15:56.128+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T02:15:56.130+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n    COALESCE(wp.discount_percentage, 0) AS discount_percentage,\n    p.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n    COALESCE(AVG(r.rating), 0) AS average_rating,\n    COUNT(distinct oi.order_id) AS sold \n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN orders o ON oi.order_id = o.id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE DATE_TRUNC('month', o.created_at) = DATE_TRUNC('month', CURRENT_DATE)\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY sold DESC, p.id ASC LIMIT $1 OFFSET $2","params":[5,5]}
{"L":"INFO","T":"2024-11-21T02:15:56.132+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling?page=2","duration":"5.5454ms"}
{"L":"INFO","T":"2024-11-21T02:16:00.859+0700","M":"Request received","method":"GET","url":"/api/products/best-selling?page=3"}
{"L":"INFO","T":"2024-11-21T02:16:00.859+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T02:16:00.862+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n    COALESCE(wp.discount_percentage, 0) AS discount_percentage,\n    p.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n    COALESCE(AVG(r.rating), 0) AS average_rating,\n    COUNT(distinct oi.order_id) AS sold \n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN orders o ON oi.order_id = o.id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE DATE_TRUNC('month', o.created_at) = DATE_TRUNC('month', CURRENT_DATE)\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY sold DESC, p.id ASC LIMIT $1 OFFSET $2","params":[5,10]}
{"L":"WARN","T":"2024-11-21T02:16:00.862+0700","M":"Handler: No products found","page":3,"limit":5}
{"L":"INFO","T":"2024-11-21T02:16:00.862+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling?page=3","duration":"3.5477ms"}
{"L":"INFO","T":"2024-11-21T02:23:02.438+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:23:02.439+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:23:02.488+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:23:02.488+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T02:23:02.489+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T02:23:15.536+0700","M":"Request received","method":"GET","url":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T02:23:15.539+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T02:23:15.562+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n    COALESCE(wp.discount_percentage, 0) AS discount_percentage,\n    p.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n    COALESCE(AVG(r.rating), 0) AS average_rating,\n    COUNT(distinct oi.order_id) AS sold \n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN orders o ON oi.order_id = o.id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE DATE_TRUNC('month', o.created_at) = DATE_TRUNC('month', CURRENT_DATE)\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY sold DESC, p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-21T02:23:15.566+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling","duration":"29.9293ms"}
{"L":"INFO","T":"2024-11-21T02:25:19.831+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:25:19.831+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:25:19.878+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:25:19.879+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T02:25:19.879+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T02:25:27.155+0700","M":"Request received","method":"GET","url":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-21T02:25:27.156+0700","M":"Handler: Received request","method":"GET","path":"/api/products/weekly-promotion"}
{"L":"ERROR","T":"2024-11-21T02:25:27.161+0700","M":"Repository: failed to execute count query","error":"pq: syntax error at or near \"WHERE\""}
{"L":"ERROR","T":"2024-11-21T02:25:27.161+0700","M":"Handler: Error getting products","error":"pq: syntax error at or near \"WHERE\""}
{"L":"INFO","T":"2024-11-21T02:25:27.162+0700","M":"Request processed","method":"GET","url":"/api/products/weekly-promotion","duration":"6.0743ms"}
{"L":"INFO","T":"2024-11-21T02:27:07.544+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:27:07.546+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:27:07.781+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T02:27:07.783+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T02:27:07.783+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T02:27:12.586+0700","M":"Request received","method":"GET","url":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-21T02:27:12.589+0700","M":"Handler: Received request","method":"GET","path":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-21T02:27:12.637+0700","M":"Request processed","method":"GET","url":"/api/products/weekly-promotion","duration":"50.8424ms"}
{"L":"INFO","T":"2024-11-21T02:27:32.937+0700","M":"Request received","method":"GET","url":"/api/banners"}
{"L":"INFO","T":"2024-11-21T02:27:32.937+0700","M":"Handler: Received request","method":"GET","path":"/api/banners"}
{"L":"INFO","T":"2024-11-21T02:27:32.940+0700","M":"Request processed","method":"GET","url":"/api/banners","duration":"2.4382ms"}
{"L":"INFO","T":"2024-11-21T09:52:21.886+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T09:52:21.891+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T09:52:22.191+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T09:52:22.193+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T09:52:22.194+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T09:52:28.163+0700","M":"Request received","method":"GET","url":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T09:52:28.164+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T09:52:28.188+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n    COALESCE(wp.discount_percentage, 0) AS discount_percentage,\n    p.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n    COALESCE(AVG(r.rating), 0) AS average_rating,\n    COUNT(distinct oi.order_id) AS sold \n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN orders o ON oi.order_id = o.id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE DATE_TRUNC('month', o.created_at) = DATE_TRUNC('month', CURRENT_DATE)\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY sold DESC, p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-21T09:52:28.195+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling","duration":"32.58ms"}
{"L":"INFO","T":"2024-11-21T09:53:23.339+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-21T09:53:23.339+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-21T09:53:23.344+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\tp.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS sold\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-21T09:53:23.352+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"13.4157ms"}
{"L":"INFO","T":"2024-11-21T09:55:01.682+0700","M":"Request received","method":"GET","url":"/api/products?page=2"}
{"L":"INFO","T":"2024-11-21T09:55:01.683+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-21T09:55:01.687+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(wp.discount_percentage, 0) AS discount_percentage,\n\t\tp.price * (1 - CAST(COALESCE(\n        CASE \n            WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n            ELSE 0\n        END, 0) AS FLOAT) / 100) AS discount_price, \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS sold\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,5]}
{"L":"INFO","T":"2024-11-21T09:55:01.690+0700","M":"Request processed","method":"GET","url":"/api/products?page=2","duration":"7.6762ms"}
{"L":"INFO","T":"2024-11-21T11:07:25.168+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T11:07:25.172+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T11:07:25.459+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T11:07:25.460+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T11:07:25.461+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T11:07:32.374+0700","M":"Request received","method":"GET","url":"/api/products?page=2"}
{"L":"INFO","T":"2024-11-21T11:07:32.375+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-21T11:07:32.384+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(\n\t\tCASE \n\t\t\tWHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n    \tELSE 0 \n\t\tEND, 0) AS discount_percentage,\n     \t\tCASE \n        WHEN COALESCE(\n            CASE \n                WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n                ELSE 0\n            END, 0) = 0 THEN 0\n        ELSE CAST(p.price AS FLOAT) * (1 - \n            CAST(COALESCE(\n                CASE \n                    WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n                    ELSE 0\n                END, 0) AS FLOAT) / 100.0) END AS discount_price,  \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS sold\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,5]}
{"L":"INFO","T":"2024-11-21T11:07:32.386+0700","M":"Request processed","method":"GET","url":"/api/products?page=2","duration":"12.0597ms"}
{"L":"INFO","T":"2024-11-21T11:08:02.443+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-21T11:08:02.443+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-21T11:08:02.447+0700","M":"Repository: executed query","query":"\n\t\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\t\tCOALESCE(\n\t\tCASE \n\t\t\tWHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n    \tELSE 0 \n\t\tEND, 0) AS discount_percentage,\n     \t\tCASE \n        WHEN COALESCE(\n            CASE \n                WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n                ELSE 0\n            END, 0) = 0 THEN 0\n        ELSE CAST(p.price AS FLOAT) * (1 - \n            CAST(COALESCE(\n                CASE \n                    WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n                    ELSE 0\n                END, 0) AS FLOAT) / 100.0) END AS discount_price,  \n\t\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\t\tCOUNT(DISTINCT oi.order_id) AS sold\n\t\tFROM products p\n\t\tJOIN categories c ON p.category_id = c.id\n\t\tLEFT JOIN ratings r ON p.id = r.product_id\n\t\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\t\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\t\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-21T11:08:02.450+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"7.2614ms"}
{"L":"INFO","T":"2024-11-21T11:13:03.185+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T11:13:03.188+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T11:13:03.468+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T11:13:03.468+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T11:13:03.469+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T11:13:15.484+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-21T11:13:15.485+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"INFO","T":"2024-11-21T11:13:15.494+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"9.5346ms"}
{"L":"INFO","T":"2024-11-21T11:13:23.447+0700","M":"Request received","method":"GET","url":"/api/products/6"}
{"L":"INFO","T":"2024-11-21T11:13:23.448+0700","M":"Handler: Received request","method":"GET","path":"/api/products/6"}
{"L":"INFO","T":"2024-11-21T11:13:23.451+0700","M":"Request processed","method":"GET","url":"/api/products/6","duration":"4.2533ms"}
{"L":"INFO","T":"2024-11-21T11:13:34.193+0700","M":"Request received","method":"GET","url":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T11:13:34.193+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T11:13:34.208+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n    COALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,\n    COALESCE(AVG(r.rating), 0) AS average_rating,\n    COUNT(distinct oi.order_id) AS sold \n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN orders o ON oi.order_id = o.id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE DATE_TRUNC('month', o.created_at) = DATE_TRUNC('month', CURRENT_DATE)\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY sold DESC, p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-21T11:13:34.211+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling","duration":"17.987ms"}
{"L":"INFO","T":"2024-11-21T11:23:05.817+0700","M":"Request received","method":"GET","url":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-21T11:23:05.845+0700","M":"Handler: Received request","method":"GET","path":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-21T11:23:06.025+0700","M":"Request processed","method":"GET","url":"/api/products/weekly-promotion","duration":"210.4083ms"}
{"L":"INFO","T":"2024-11-21T12:10:56.104+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T12:10:56.105+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T12:10:56.227+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T12:10:56.227+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T12:10:56.228+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T12:11:06.763+0700","M":"Request received","method":"GET","url":"/api/products/6"}
{"L":"INFO","T":"2024-11-21T12:11:06.763+0700","M":"Handler: Received request","method":"GET","path":"/api/products/6"}
{"L":"ERROR","T":"2024-11-21T12:11:06.764+0700","M":"Repository: failed to scan row","error":"pq: syntax error at or near \"(\""}
{"L":"ERROR","T":"2024-11-21T12:11:06.765+0700","M":"Handler: Product not found","error":"pq: syntax error at or near \"(\""}
{"L":"INFO","T":"2024-11-21T12:11:06.765+0700","M":"Request processed","method":"GET","url":"/api/products/6","duration":"1.5304ms"}
{"L":"INFO","T":"2024-11-21T12:11:51.552+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T12:11:51.553+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T12:11:51.649+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T12:11:51.650+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T12:11:51.651+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T12:11:58.448+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-21T12:11:58.448+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"ERROR","T":"2024-11-21T12:11:58.448+0700","M":"Repository: failed to scan row","error":"pq: syntax error at or near \"(\""}
{"L":"ERROR","T":"2024-11-21T12:11:58.449+0700","M":"Handler: Product not found","error":"pq: syntax error at or near \"(\""}
{"L":"INFO","T":"2024-11-21T12:11:58.449+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"1.2339ms"}
{"L":"INFO","T":"2024-11-21T12:13:26.107+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T12:13:26.108+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T12:13:26.209+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T12:13:26.210+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T12:13:26.210+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T12:13:29.180+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-21T12:13:29.180+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"ERROR","T":"2024-11-21T12:13:29.182+0700","M":"Repository: failed to scan row","error":"pq: syntax error at or near \"(\""}
{"L":"ERROR","T":"2024-11-21T12:13:29.182+0700","M":"Handler: Product not found","error":"pq: syntax error at or near \"(\""}
{"L":"INFO","T":"2024-11-21T12:13:29.182+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"2.0452ms"}
{"L":"INFO","T":"2024-11-21T12:16:28.488+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T12:16:28.488+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T12:16:28.590+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T12:16:28.590+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T12:16:28.590+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T12:16:34.967+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-21T12:16:34.968+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"INFO","T":"2024-11-21T12:16:34.974+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"6.6511ms"}
{"L":"INFO","T":"2024-11-21T12:17:21.362+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T12:17:21.363+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T12:17:21.478+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T12:17:21.478+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T12:17:21.479+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T12:17:27.141+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-21T12:17:27.141+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"INFO","T":"2024-11-21T12:17:27.145+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"4.3072ms"}
{"L":"INFO","T":"2024-11-21T12:18:26.416+0700","M":"Request received","method":"GET","url":"/api/products/20"}
{"L":"INFO","T":"2024-11-21T12:18:26.417+0700","M":"Handler: Received request","method":"GET","path":"/api/products/20"}
{"L":"INFO","T":"2024-11-21T12:18:26.419+0700","M":"Request processed","method":"GET","url":"/api/products/20","duration":"3.2943ms"}
{"L":"INFO","T":"2024-11-21T12:18:49.189+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-21T12:18:49.189+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"INFO","T":"2024-11-21T12:18:49.191+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"1.2412ms"}
{"L":"INFO","T":"2024-11-21T12:19:35.547+0700","M":"Request received","method":"GET","url":"/api/products/3"}
{"L":"INFO","T":"2024-11-21T12:19:35.548+0700","M":"Handler: Received request","method":"GET","path":"/api/products/3"}
{"L":"INFO","T":"2024-11-21T12:19:35.549+0700","M":"Request processed","method":"GET","url":"/api/products/3","duration":"2.0673ms"}
{"L":"INFO","T":"2024-11-21T12:20:11.168+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-21T12:20:11.168+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-21T12:20:11.172+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\tCOALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,  \n\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\tCOUNT(DISTINCT oi.order_id) AS sold\n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-21T12:20:11.176+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"8.0753ms"}
{"L":"INFO","T":"2024-11-21T12:20:21.187+0700","M":"Request received","method":"GET","url":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T12:20:21.187+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T12:20:21.191+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n    COALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,\n    COALESCE(AVG(r.rating), 0) AS average_rating,\n    COUNT(distinct oi.order_id) AS sold \n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN orders o ON oi.order_id = o.id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE DATE_TRUNC('month', o.created_at) = DATE_TRUNC('month', CURRENT_DATE)\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY sold DESC, p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-21T12:20:21.193+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling","duration":"6.5854ms"}
{"L":"INFO","T":"2024-11-21T12:20:56.598+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-21T12:20:56.599+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"INFO","T":"2024-11-21T12:20:56.610+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"11.5193ms"}
{"L":"INFO","T":"2024-11-21T23:23:29.163+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T23:23:29.166+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-21T23:23:29.358+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-21T23:23:29.359+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-21T23:23:29.359+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-21T23:25:04.427+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-21T23:25:04.439+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-21T23:25:04.469+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\tCOALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,  \n\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\tCOUNT(DISTINCT oi.order_id) AS sold\n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-21T23:25:04.481+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"54.6263ms"}
{"L":"INFO","T":"2024-11-21T23:26:06.192+0700","M":"Request received","method":"GET","url":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T23:26:06.198+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T23:26:06.209+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n    COALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,\n    COALESCE(AVG(r.rating), 0) AS average_rating,\n    COUNT(distinct oi.order_id) AS sold \n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN orders o ON oi.order_id = o.id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE DATE_TRUNC('month', o.created_at) = DATE_TRUNC('month', CURRENT_DATE)\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY sold DESC, p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-21T23:26:06.213+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling","duration":"21.0318ms"}
{"L":"INFO","T":"2024-11-21T23:26:24.592+0700","M":"Request received","method":"GET","url":"/api/products/best-selling?page=2"}
{"L":"INFO","T":"2024-11-21T23:26:24.592+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-21T23:26:24.606+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n    COALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,\n    COALESCE(AVG(r.rating), 0) AS average_rating,\n    COUNT(distinct oi.order_id) AS sold \n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN orders o ON oi.order_id = o.id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE DATE_TRUNC('month', o.created_at) = DATE_TRUNC('month', CURRENT_DATE)\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY sold DESC, p.id ASC LIMIT $1 OFFSET $2","params":[5,5]}
{"L":"INFO","T":"2024-11-21T23:26:24.609+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling?page=2","duration":"17.3224ms"}
{"L":"INFO","T":"2024-11-21T23:26:36.381+0700","M":"Request received","method":"GET","url":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-21T23:26:36.382+0700","M":"Handler: Received request","method":"GET","path":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-21T23:26:36.394+0700","M":"Request processed","method":"GET","url":"/api/products/weekly-promotion","duration":"12.9851ms"}
{"L":"INFO","T":"2024-11-22T01:24:18.102+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:24:18.106+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:24:18.304+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:24:18.304+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T01:24:18.305+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T01:24:27.844+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-22T01:24:27.845+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T01:24:27.854+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\tCOALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,  \n\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\tCOUNT(DISTINCT oi.order_id) AS sold\n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-22T01:24:27.858+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"13.8409ms"}
{"L":"INFO","T":"2024-11-22T01:27:53.930+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:27:53.932+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:27:54.112+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:27:54.113+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T01:27:54.113+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T01:27:58.435+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-22T01:27:58.436+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T01:27:58.449+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\tCOALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,  \n\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\tCOUNT(DISTINCT oi.order_id) AS sold,\n\tCASE WHEN CURRENT_DATE - p.created_at <= INTERVAL '30 days' THEN TRUE ELSE FALSE\n    END AS flag\n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage, p.created_at ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-22T01:27:58.453+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"17.7432ms"}
{"L":"INFO","T":"2024-11-22T01:28:20.472+0700","M":"Request received","method":"GET","url":"/api/products/best-selling?page=2"}
{"L":"INFO","T":"2024-11-22T01:28:20.472+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-22T01:28:20.485+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n    COALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,\n    COALESCE(AVG(r.rating), 0) AS average_rating,\n    COUNT(distinct oi.order_id) AS sold,\n\tCASE WHEN CURRENT_DATE - p.created_at <= INTERVAL '30 days' THEN TRUE ELSE FALSE\n    END AS flag \n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN orders o ON oi.order_id = o.id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE DATE_TRUNC('month', o.created_at) = DATE_TRUNC('month', CURRENT_DATE)\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage, p.created_at ORDER BY sold DESC, p.id ASC LIMIT $1 OFFSET $2","params":[5,5]}
{"L":"INFO","T":"2024-11-22T01:28:20.488+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling?page=2","duration":"16.5515ms"}
{"L":"INFO","T":"2024-11-22T01:28:30.172+0700","M":"Request received","method":"GET","url":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-22T01:28:30.173+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-22T01:28:30.180+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n    COALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,\n    COALESCE(AVG(r.rating), 0) AS average_rating,\n    COUNT(distinct oi.order_id) AS sold,\n\tCASE WHEN CURRENT_DATE - p.created_at <= INTERVAL '30 days' THEN TRUE ELSE FALSE\n    END AS flag \n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN orders o ON oi.order_id = o.id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE DATE_TRUNC('month', o.created_at) = DATE_TRUNC('month', CURRENT_DATE)\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage, p.created_at ORDER BY sold DESC, p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-22T01:28:30.183+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling","duration":"10.2611ms"}
{"L":"INFO","T":"2024-11-22T01:28:55.897+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-22T01:28:55.897+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"INFO","T":"2024-11-22T01:28:55.902+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"5.7208ms"}
{"L":"INFO","T":"2024-11-22T01:29:09.257+0700","M":"Request received","method":"GET","url":"/api/products/2"}
{"L":"INFO","T":"2024-11-22T01:29:09.259+0700","M":"Handler: Received request","method":"GET","path":"/api/products/2"}
{"L":"INFO","T":"2024-11-22T01:29:09.262+0700","M":"Request processed","method":"GET","url":"/api/products/2","duration":"4.6384ms"}
{"L":"INFO","T":"2024-11-22T01:29:39.216+0700","M":"Request received","method":"GET","url":"/api/products/5"}
{"L":"INFO","T":"2024-11-22T01:29:39.216+0700","M":"Handler: Received request","method":"GET","path":"/api/products/5"}
{"L":"INFO","T":"2024-11-22T01:29:39.220+0700","M":"Request processed","method":"GET","url":"/api/products/5","duration":"3.9133ms"}
{"L":"INFO","T":"2024-11-22T01:37:54.631+0700","M":"Request received","method":"GET","url":"/api/products/5"}
{"L":"INFO","T":"2024-11-22T01:37:54.634+0700","M":"Handler: Received request","method":"GET","path":"/api/products/5"}
{"L":"INFO","T":"2024-11-22T01:37:54.810+0700","M":"Request processed","method":"GET","url":"/api/products/5","duration":"179.1145ms"}
{"L":"INFO","T":"2024-11-22T01:38:52.790+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-22T01:38:52.791+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T01:38:52.796+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\tCOALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,  \n\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\tCOUNT(DISTINCT oi.order_id) AS sold,\n\tCASE WHEN CURRENT_DATE - p.created_at <= INTERVAL '30 days' THEN TRUE ELSE FALSE\n    END AS flag\n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage, p.created_at ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-22T01:38:52.802+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"12.0635ms"}
{"L":"INFO","T":"2024-11-22T01:44:00.239+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:44:00.241+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:44:00.498+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:44:00.500+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T01:44:00.501+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T01:44:05.338+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-22T01:44:05.339+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T01:44:05.352+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\tCOALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,  \n\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\tCOUNT(DISTINCT oi.order_id) AS sold,\n\tCASE WHEN CURRENT_DATE - p.created_at <= INTERVAL '30 days' THEN TRUE ELSE FALSE\n    END AS flag\n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage, p.created_at ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-22T01:44:05.359+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"20.6724ms"}
{"L":"INFO","T":"2024-11-22T01:44:37.057+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:44:37.060+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:44:37.285+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:44:37.286+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T01:44:37.287+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T01:44:49.586+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-22T01:44:49.588+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T01:44:49.593+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\tCOALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,  \n\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\tCOUNT(DISTINCT oi.order_id) AS sold,\n\tCASE WHEN CURRENT_DATE - p.created_at <= INTERVAL '30 days' THEN TRUE ELSE FALSE\n    END AS flag\n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage, p.created_at ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-22T01:44:49.596+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"9.143ms"}
{"L":"INFO","T":"2024-11-22T01:44:55.111+0700","M":"Request received","method":"GET","url":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-22T01:44:55.111+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-22T01:44:55.117+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n    COALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,\n    COALESCE(AVG(r.rating), 0) AS average_rating,\n    COUNT(distinct oi.order_id) AS sold,\n\tCASE WHEN CURRENT_DATE - p.created_at <= INTERVAL '30 days' THEN TRUE ELSE FALSE\n    END AS flag \n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN orders o ON oi.order_id = o.id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE DATE_TRUNC('month', o.created_at) = DATE_TRUNC('month', CURRENT_DATE)\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage, p.created_at ORDER BY sold DESC, p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-22T01:44:55.120+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling","duration":"9.8335ms"}
{"L":"INFO","T":"2024-11-22T01:45:03.818+0700","M":"Request received","method":"GET","url":"/api/products/5"}
{"L":"INFO","T":"2024-11-22T01:45:03.819+0700","M":"Handler: Received request","method":"GET","path":"/api/products/5"}
{"L":"INFO","T":"2024-11-22T01:45:03.822+0700","M":"Request processed","method":"GET","url":"/api/products/5","duration":"3.5726ms"}
{"L":"INFO","T":"2024-11-22T01:45:19.741+0700","M":"Request received","method":"GET","url":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-22T01:45:19.742+0700","M":"Handler: Received request","method":"GET","path":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-22T01:45:19.750+0700","M":"Request processed","method":"GET","url":"/api/products/weekly-promotion","duration":"8.8188ms"}
{"L":"INFO","T":"2024-11-22T01:52:07.102+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:52:07.104+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:52:07.300+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:52:07.301+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T01:52:07.301+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T01:52:15.020+0700","M":"Request received","method":"GET","url":"/api/banners"}
{"L":"INFO","T":"2024-11-22T01:52:15.021+0700","M":"Handler: Received request","method":"GET","path":"/api/banners"}
{"L":"INFO","T":"2024-11-22T01:52:15.027+0700","M":"Request processed","method":"GET","url":"/api/banners","duration":"6.7952ms"}
{"L":"INFO","T":"2024-11-22T01:58:15.779+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:58:15.781+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:58:15.980+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T01:58:15.980+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T01:58:15.981+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T01:58:22.994+0700","M":"Request received","method":"GET","url":"/api/banners"}
{"L":"INFO","T":"2024-11-22T01:58:22.995+0700","M":"Handler: Received request","method":"GET","path":"/api/banners"}
{"L":"INFO","T":"2024-11-22T01:58:22.998+0700","M":"Request processed","method":"GET","url":"/api/banners","duration":"4.0932ms"}
{"L":"INFO","T":"2024-11-22T02:10:46.903+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T02:10:46.906+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T02:10:47.194+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T02:10:47.196+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T02:10:47.196+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T02:14:54.976+0700","M":"Request received","method":"GET","url":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-22T02:14:54.977+0700","M":"Handler: Received request","method":"GET","path":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-22T02:14:54.981+0700","M":"Request processed","method":"GET","url":"/api/products/weekly-promotion","duration":"5.2598ms"}
{"L":"INFO","T":"2024-11-22T02:33:45.791+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T02:33:45.793+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T02:33:46.075+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T02:33:46.077+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T02:33:46.078+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T02:39:10.645+0700","M":"Request received","method":"GET","url":"/api/products/recomments"}
{"L":"INFO","T":"2024-11-22T02:39:10.655+0700","M":"Handler: Received request","method":"GET","path":"/api/products/recomments"}
{"L":"INFO","T":"2024-11-22T02:39:10.861+0700","M":"Request processed","method":"GET","url":"/api/products/recomments","duration":"215.3864ms"}
{"L":"INFO","T":"2024-11-22T03:17:32.277+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:17:32.279+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:17:32.450+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:17:32.450+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T03:17:32.451+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T03:19:38.393+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:19:38.395+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:19:38.553+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:19:38.554+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T03:19:38.555+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T03:22:05.468+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:22:05.470+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:22:05.635+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:22:05.636+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T03:22:05.636+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T03:23:23.747+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T03:23:23.747+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"WARN","T":"2024-11-22T03:23:23.748+0700","M":"Middleware: Token missing in request"}
{"L":"INFO","T":"2024-11-22T03:23:23.748+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"1.5641ms"}
{"L":"INFO","T":"2024-11-22T03:32:10.569+0700","M":"Request received","method":"POST","url":"/"}
{"L":"INFO","T":"2024-11-22T03:32:10.570+0700","M":"Request processed","method":"POST","url":"/","duration":"1.2664ms"}
{"L":"INFO","T":"2024-11-22T03:32:32.397+0700","M":"Request received","method":"POST","url":"/login"}
{"L":"INFO","T":"2024-11-22T03:32:32.404+0700","M":"Repository: Executing query","query":"SELECT id, name, email, phone, password FROM users WHERE (email = $1 OR phone = $2) AND password = $3","params":["john.doe@example.com","","password123"]}
{"L":"INFO","T":"2024-11-22T03:32:32.533+0700","M":"Repository: User login successful","userID":1}
{"L":"INFO","T":"2024-11-22T03:32:32.540+0700","M":"Request processed","method":"POST","url":"/login","duration":"142.6266ms"}
{"L":"INFO","T":"2024-11-22T03:32:58.327+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T03:32:58.327+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T03:32:58.329+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T03:32:58.332+0700","M":"Repository: Error executing query","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_user_id_fkey\""}
{"L":"ERROR","T":"2024-11-22T03:32:58.332+0700","M":"Handler: add wishlist failed","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_user_id_fkey\""}
{"L":"DEBUG","T":"2024-11-22T03:32:58.333+0700","M":"Handler: add wishlist failed","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_user_id_fkey\""}
{"L":"INFO","T":"2024-11-22T03:32:58.333+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"5.4965ms"}
{"L":"INFO","T":"2024-11-22T03:47:18.036+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:47:18.037+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:47:18.144+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:47:18.144+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T03:47:18.145+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T03:47:24.820+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T03:47:24.820+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T03:47:24.825+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T03:47:24.829+0700","M":"Repository: Error executing query","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"ERROR","T":"2024-11-22T03:47:24.829+0700","M":"Handler: add wishlist failed","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"DEBUG","T":"2024-11-22T03:47:24.829+0700","M":"Handler: add wishlist failed","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"INFO","T":"2024-11-22T03:47:24.830+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"10.1427ms"}
{"L":"INFO","T":"2024-11-22T03:50:33.438+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:50:33.439+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:50:33.551+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:50:33.551+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T03:50:33.551+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T03:50:40.281+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T03:50:40.282+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T03:50:40.284+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T03:50:40.286+0700","M":"Repository: Error executing query","error":"sql: Scan error on column index 0, name \"id\": destination not a pointer"}
{"L":"ERROR","T":"2024-11-22T03:50:40.286+0700","M":"Handler: add wishlist failed","error":"sql: Scan error on column index 0, name \"id\": destination not a pointer"}
{"L":"DEBUG","T":"2024-11-22T03:50:40.287+0700","M":"Handler: add wishlist failed","error":"sql: Scan error on column index 0, name \"id\": destination not a pointer"}
{"L":"INFO","T":"2024-11-22T03:50:40.287+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"6.0455ms"}
{"L":"INFO","T":"2024-11-22T03:51:35.741+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:51:35.742+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:51:35.846+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:51:35.847+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T03:51:35.848+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T03:51:40.047+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T03:51:40.048+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T03:51:40.049+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T03:51:40.052+0700","M":"Repository: Error executing query","error":"sql: Scan error on column index 0, name \"id\": destination not a pointer"}
{"L":"ERROR","T":"2024-11-22T03:51:40.053+0700","M":"Handler: add wishlist failed","error":"sql: Scan error on column index 0, name \"id\": destination not a pointer"}
{"L":"DEBUG","T":"2024-11-22T03:51:40.054+0700","M":"Handler: add wishlist failed","error":"sql: Scan error on column index 0, name \"id\": destination not a pointer"}
{"L":"INFO","T":"2024-11-22T03:51:40.054+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"6.2555ms"}
{"L":"INFO","T":"2024-11-22T03:52:34.365+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:52:34.366+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:52:34.466+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:52:34.467+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T03:52:34.467+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T03:52:38.713+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T03:52:38.714+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T03:52:38.716+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T03:52:38.719+0700","M":"Repository: Wishlist added successfully","wishlistID":10}
{"L":"INFO","T":"2024-11-22T03:52:38.719+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"5.4229ms"}
{"L":"INFO","T":"2024-11-22T03:54:29.041+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T03:54:29.042+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T03:54:29.043+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T03:54:29.044+0700","M":"Repository: Wishlist added successfully","wishlistID":11}
{"L":"INFO","T":"2024-11-22T03:54:29.045+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"3.0961ms"}
{"L":"INFO","T":"2024-11-22T03:54:58.376+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T03:54:58.376+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T03:54:58.378+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T03:54:58.379+0700","M":"Repository: Wishlist added successfully","wishlistID":12}
{"L":"INFO","T":"2024-11-22T03:54:58.379+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"3.184ms"}
{"L":"INFO","T":"2024-11-22T03:56:42.471+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T03:56:42.471+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T03:56:42.472+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T03:56:42.474+0700","M":"Repository: Wishlist added successfully","wishlistID":13}
{"L":"INFO","T":"2024-11-22T03:56:42.474+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"3.6175ms"}
{"L":"INFO","T":"2024-11-22T03:56:49.808+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:56:49.809+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:56:49.894+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T03:56:49.894+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T03:56:49.894+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T03:56:53.956+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T03:56:53.957+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T03:56:53.958+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T03:56:53.961+0700","M":"Repository: Wishlist added successfully","wishlistID":14}
{"L":"INFO","T":"2024-11-22T03:56:53.961+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"4.5003ms"}
{"L":"INFO","T":"2024-11-22T04:01:13.380+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:01:13.381+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:01:13.590+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:01:13.590+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T04:01:13.591+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T04:01:23.263+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T04:01:23.263+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T04:01:23.265+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T04:01:23.266+0700","M":"Handler: invalid request payload","error":"invalid character '}' looking for beginning of value"}
{"L":"DEBUG","T":"2024-11-22T04:01:23.269+0700","M":"Handler: invalid request payload","error":"invalid character '}' looking for beginning of value"}
{"L":"INFO","T":"2024-11-22T04:01:23.269+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"6.2146ms"}
{"L":"INFO","T":"2024-11-22T04:01:42.065+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T04:01:42.065+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T04:01:42.067+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T04:01:42.067+0700","M":"Handler: invalid request payload","error":"json: cannot unmarshal string into Go struct field Wishlist.product_id of type int"}
{"L":"DEBUG","T":"2024-11-22T04:01:42.067+0700","M":"Handler: invalid request payload","error":"json: cannot unmarshal string into Go struct field Wishlist.product_id of type int"}
{"L":"INFO","T":"2024-11-22T04:01:42.068+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"3.5546ms"}
{"L":"INFO","T":"2024-11-22T04:01:56.272+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T04:01:56.272+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T04:01:56.273+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T04:01:56.273+0700","M":"Handler: invalid request payload","error":"invalid character 'a' looking for beginning of value"}
{"L":"DEBUG","T":"2024-11-22T04:01:56.274+0700","M":"Handler: invalid request payload","error":"invalid character 'a' looking for beginning of value"}
{"L":"INFO","T":"2024-11-22T04:01:56.274+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"2.1673ms"}
{"L":"INFO","T":"2024-11-22T04:02:12.391+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T04:02:12.391+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T04:02:12.392+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T04:02:12.392+0700","M":"Handler: invalid request payload","error":"json: cannot unmarshal string into Go struct field Wishlist.product_id of type int"}
{"L":"DEBUG","T":"2024-11-22T04:02:12.393+0700","M":"Handler: invalid request payload","error":"json: cannot unmarshal string into Go struct field Wishlist.product_id of type int"}
{"L":"INFO","T":"2024-11-22T04:02:12.393+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"2.318ms"}
{"L":"INFO","T":"2024-11-22T04:02:28.614+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T04:02:28.614+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T04:02:28.615+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T04:02:28.618+0700","M":"Repository: Error executing query","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"ERROR","T":"2024-11-22T04:02:28.618+0700","M":"Handler: add wishlist failed","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"DEBUG","T":"2024-11-22T04:02:28.619+0700","M":"Handler: add wishlist failed","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"INFO","T":"2024-11-22T04:02:28.619+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"4.746ms"}
{"L":"INFO","T":"2024-11-22T04:03:47.198+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:03:47.199+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:03:47.292+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:03:47.292+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T04:03:47.292+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T04:03:54.306+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T04:03:54.306+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T04:03:54.308+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T04:03:54.310+0700","M":"Repository: failed to scan row","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"ERROR","T":"2024-11-22T04:03:54.311+0700","M":"Handler: add wishlist failed","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"DEBUG","T":"2024-11-22T04:03:54.311+0700","M":"Handler: add wishlist failed","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"INFO","T":"2024-11-22T04:03:54.312+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"6.1533ms"}
{"L":"INFO","T":"2024-11-22T04:05:18.624+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:05:18.624+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:05:18.720+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:05:18.720+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T04:05:18.721+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T04:05:22.297+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T04:05:22.297+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T04:05:22.299+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T04:05:22.301+0700","M":"Repository: failed to scan row","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"ERROR","T":"2024-11-22T04:05:22.301+0700","M":"Handler: add wishlist failed","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"DEBUG","T":"2024-11-22T04:05:22.302+0700","M":"Handler: add wishlist failed","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"INFO","T":"2024-11-22T04:05:22.302+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"5.2738ms"}
{"L":"INFO","T":"2024-11-22T04:05:23.759+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T04:05:23.759+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T04:05:23.760+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T04:05:23.761+0700","M":"Repository: failed to scan row","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"ERROR","T":"2024-11-22T04:05:23.762+0700","M":"Handler: add wishlist failed","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"DEBUG","T":"2024-11-22T04:05:23.762+0700","M":"Handler: add wishlist failed","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"INFO","T":"2024-11-22T04:05:23.773+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"14.497ms"}
{"L":"INFO","T":"2024-11-22T04:07:42.777+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T04:07:42.778+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T04:07:42.779+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T04:07:42.779+0700","M":"Handler: invalid request payload","error":"invalid character 'a' looking for beginning of value"}
{"L":"DEBUG","T":"2024-11-22T04:07:42.779+0700","M":"Handler: invalid request payload","error":"invalid character 'a' looking for beginning of value"}
{"L":"INFO","T":"2024-11-22T04:07:42.779+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"2.0772ms"}
{"L":"INFO","T":"2024-11-22T04:07:49.096+0700","M":"Request received","method":"POST","url":"/api/products"}
{"L":"DEBUG","T":"2024-11-22T04:07:49.097+0700","M":"Middleware: Processing request","path":"/api/products"}
{"L":"INFO","T":"2024-11-22T04:07:49.097+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T04:07:49.100+0700","M":"Handler: invalid request payload","error":"json: cannot unmarshal string into Go struct field Wishlist.product_id of type int"}
{"L":"DEBUG","T":"2024-11-22T04:07:49.101+0700","M":"Handler: invalid request payload","error":"json: cannot unmarshal string into Go struct field Wishlist.product_id of type int"}
{"L":"INFO","T":"2024-11-22T04:07:49.101+0700","M":"Request processed","method":"POST","url":"/api/products","duration":"5.9459ms"}
{"L":"INFO","T":"2024-11-22T04:18:45.821+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:18:45.822+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:18:46.027+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:18:46.027+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T04:18:46.027+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T04:19:09.935+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-22T04:19:09.936+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"INFO","T":"2024-11-22T04:19:09.938+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T04:19:09.941+0700","M":"Repository: Wishlist added successfully","wishlistID":19}
{"L":"INFO","T":"2024-11-22T04:19:09.942+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"6.6041ms"}
{"L":"INFO","T":"2024-11-22T04:20:15.692+0700","M":"Request received","method":"DELETE","url":"/api/products/wishlist/19"}
{"L":"DEBUG","T":"2024-11-22T04:20:15.693+0700","M":"Middleware: Processing request","path":"/api/products/wishlist/19"}
{"L":"INFO","T":"2024-11-22T04:20:15.694+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T04:20:15.694+0700","M":"Handler: Invalid wishlist ID","error":"strconv.Atoi: parsing \"\": invalid syntax"}
{"L":"INFO","T":"2024-11-22T04:20:15.694+0700","M":"Request processed","method":"DELETE","url":"/api/products/wishlist/19","duration":"2.0996ms"}
{"L":"INFO","T":"2024-11-22T04:32:30.281+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:32:30.282+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:32:30.382+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:32:30.383+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T04:32:30.384+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T04:32:34.003+0700","M":"Request received","method":"DELETE","url":"/api/products/wishlist/19"}
{"L":"DEBUG","T":"2024-11-22T04:32:34.003+0700","M":"Middleware: Processing request","path":"/api/products/wishlist/19"}
{"L":"WARN","T":"2024-11-22T04:32:34.005+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-22T04:32:34.005+0700","M":"Request processed","method":"DELETE","url":"/api/products/wishlist/19","duration":"2.1655ms"}
{"L":"INFO","T":"2024-11-22T04:32:43.150+0700","M":"Request received","method":"POST","url":"/login"}
{"L":"INFO","T":"2024-11-22T04:32:43.151+0700","M":"Repository: Executing query","query":"SELECT id, name, email, phone, password FROM users WHERE (email = $1 OR phone = $2) AND password = $3","params":["john.doe@example.com","","password123"]}
{"L":"INFO","T":"2024-11-22T04:32:43.156+0700","M":"Repository: User login successful","userID":1}
{"L":"INFO","T":"2024-11-22T04:32:43.158+0700","M":"Request processed","method":"POST","url":"/login","duration":"8.1209ms"}
{"L":"INFO","T":"2024-11-22T04:33:09.836+0700","M":"Request received","method":"DELETE","url":"/api/products/wishlist/19"}
{"L":"DEBUG","T":"2024-11-22T04:33:09.837+0700","M":"Middleware: Processing request","path":"/api/products/wishlist/19"}
{"L":"INFO","T":"2024-11-22T04:33:09.838+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"DEBUG","T":"2024-11-22T04:33:09.838+0700","M":"Handler: Received wishlistID","wishlistID":""}
{"L":"ERROR","T":"2024-11-22T04:33:09.838+0700","M":"Handler: Invalid wishlist ID","error":"strconv.Atoi: parsing \"\": invalid syntax"}
{"L":"INFO","T":"2024-11-22T04:33:09.839+0700","M":"Request processed","method":"DELETE","url":"/api/products/wishlist/19","duration":"2.0892ms"}
{"L":"INFO","T":"2024-11-22T04:34:16.850+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:34:16.850+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:34:16.953+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:34:16.954+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T04:34:16.954+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T04:34:25.581+0700","M":"Request received","method":"DELETE","url":"/api/products/wishlist/19"}
{"L":"DEBUG","T":"2024-11-22T04:34:25.582+0700","M":"Middleware: Processing request","path":"/api/products/wishlist/19"}
{"L":"INFO","T":"2024-11-22T04:34:25.584+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T04:34:25.587+0700","M":"Repository: Wishlist deleted successfully","wishlistID":19,"userID":1}
{"L":"INFO","T":"2024-11-22T04:34:25.588+0700","M":"Request processed","method":"DELETE","url":"/api/products/wishlist/19","duration":"6.5922ms"}
{"L":"INFO","T":"2024-11-22T04:34:46.465+0700","M":"Request received","method":"DELETE","url":"/api/products/wishlist/14"}
{"L":"DEBUG","T":"2024-11-22T04:34:46.465+0700","M":"Middleware: Processing request","path":"/api/products/wishlist/14"}
{"L":"INFO","T":"2024-11-22T04:34:46.466+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T04:34:46.467+0700","M":"Repository: Wishlist deleted successfully","wishlistID":14,"userID":1}
{"L":"INFO","T":"2024-11-22T04:34:46.468+0700","M":"Request processed","method":"DELETE","url":"/api/products/wishlist/14","duration":"2.297ms"}
{"L":"INFO","T":"2024-11-22T04:48:16.820+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:48:16.821+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:48:16.933+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T04:48:16.934+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T04:48:16.934+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T04:48:37.599+0700","M":"Request received","method":"DELETE","url":"/api/products/wishlist/13"}
{"L":"DEBUG","T":"2024-11-22T04:48:37.600+0700","M":"Middleware: Processing request","path":"/api/products/wishlist/13"}
{"L":"INFO","T":"2024-11-22T04:48:37.602+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T04:48:37.604+0700","M":"Repository: Wishlist deleted successfully","id":13,"userID":1}
{"L":"INFO","T":"2024-11-22T04:48:37.605+0700","M":"Request processed","method":"DELETE","url":"/api/products/wishlist/13","duration":"5.8249ms"}
{"L":"INFO","T":"2024-11-22T04:48:42.319+0700","M":"Request received","method":"DELETE","url":"/api/products/wishlist/a"}
{"L":"DEBUG","T":"2024-11-22T04:48:42.319+0700","M":"Middleware: Processing request","path":"/api/products/wishlist/a"}
{"L":"INFO","T":"2024-11-22T04:48:42.320+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T04:48:42.320+0700","M":"Handler: Invalid wishlist ID","error":"strconv.Atoi: parsing \"a\": invalid syntax"}
{"L":"INFO","T":"2024-11-22T04:48:42.323+0700","M":"Request processed","method":"DELETE","url":"/api/products/wishlist/a","duration":"4.1512ms"}
{"L":"INFO","T":"2024-11-22T04:48:51.288+0700","M":"Request received","method":"DELETE","url":"/api/products/wishlist/12"}
{"L":"DEBUG","T":"2024-11-22T04:48:51.289+0700","M":"Middleware: Processing request","path":"/api/products/wishlist/12"}
{"L":"INFO","T":"2024-11-22T04:48:51.290+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T04:48:51.291+0700","M":"Repository: Wishlist deleted successfully","id":12,"userID":1}
{"L":"INFO","T":"2024-11-22T04:48:51.292+0700","M":"Request processed","method":"DELETE","url":"/api/products/wishlist/12","duration":"3.5831ms"}
{"L":"INFO","T":"2024-11-22T04:49:10.154+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-22T04:49:10.154+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"WARN","T":"2024-11-22T04:49:10.155+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-22T04:49:10.156+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"1.8533ms"}
{"L":"INFO","T":"2024-11-22T04:49:37.773+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-22T04:49:37.774+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"INFO","T":"2024-11-22T04:49:37.775+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T04:49:37.775+0700","M":"Handler: invalid request payload","error":"invalid character 's' after object key:value pair"}
{"L":"DEBUG","T":"2024-11-22T04:49:37.776+0700","M":"Handler: invalid request payload","error":"invalid character 's' after object key:value pair"}
{"L":"INFO","T":"2024-11-22T04:49:37.776+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"3.1386ms"}
{"L":"INFO","T":"2024-11-22T04:49:45.793+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-22T04:49:45.793+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"INFO","T":"2024-11-22T04:49:45.795+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"ERROR","T":"2024-11-22T04:49:45.795+0700","M":"Handler: invalid request payload","error":"json: cannot unmarshal string into Go struct field Wishlist.product_id of type int"}
{"L":"DEBUG","T":"2024-11-22T04:49:45.796+0700","M":"Handler: invalid request payload","error":"json: cannot unmarshal string into Go struct field Wishlist.product_id of type int"}
{"L":"INFO","T":"2024-11-22T04:49:45.796+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"2.7007ms"}
{"L":"INFO","T":"2024-11-22T04:49:54.033+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-22T04:49:54.033+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"INFO","T":"2024-11-22T04:49:54.034+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T04:49:54.037+0700","M":"Repository: Wishlist added successfully","id":20}
{"L":"INFO","T":"2024-11-22T04:49:54.038+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"5.0824ms"}
{"L":"INFO","T":"2024-11-22T05:40:35.766+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T05:40:35.767+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T05:40:35.877+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T05:40:35.877+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T05:40:35.878+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T05:41:52.921+0700","M":"Request received","method":"GET","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-22T05:41:52.922+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"WARN","T":"2024-11-22T05:41:52.922+0700","M":"Middleware: Token missing in request"}
{"L":"INFO","T":"2024-11-22T05:41:52.922+0700","M":"Request processed","method":"GET","url":"/api/products/carts","duration":"1.4334ms"}
{"L":"INFO","T":"2024-11-22T05:42:20.762+0700","M":"Request received","method":"GET","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-22T05:42:20.763+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"WARN","T":"2024-11-22T05:42:20.774+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-22T05:42:20.774+0700","M":"Request processed","method":"GET","url":"/api/products/carts","duration":"11.6005ms"}
{"L":"INFO","T":"2024-11-22T05:42:26.751+0700","M":"Request received","method":"POST","url":"/login"}
{"L":"INFO","T":"2024-11-22T05:42:26.752+0700","M":"Repository: Executing query","query":"SELECT id, name, email, phone, password FROM users WHERE (email = $1 OR phone = $2) AND password = $3","params":["john.doe@example.com","","password123"]}
{"L":"INFO","T":"2024-11-22T05:42:26.755+0700","M":"Repository: User login successful","userID":1}
{"L":"INFO","T":"2024-11-22T05:42:26.758+0700","M":"Request processed","method":"POST","url":"/login","duration":"7.1743ms"}
{"L":"INFO","T":"2024-11-22T05:42:37.954+0700","M":"Request received","method":"GET","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-22T05:42:37.954+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T05:42:37.955+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T05:42:37.955+0700","M":"Handler: Received request","method":"GET","path":"/api/products/carts"}
{"L":"ERROR","T":"2024-11-22T05:42:37.959+0700","M":"Repository: failed to scan row","error":"sql: Scan error on column index 0, name \"name\": converting driver.Value type string (\"Gaming Laptop Pro\") to a int: invalid syntax"}
{"L":"ERROR","T":"2024-11-22T05:42:37.960+0700","M":"Handler: Error getting carts","error":"sql: Scan error on column index 0, name \"name\": converting driver.Value type string (\"Gaming Laptop Pro\") to a int: invalid syntax"}
{"L":"INFO","T":"2024-11-22T05:42:37.960+0700","M":"Request processed","method":"GET","url":"/api/products/carts","duration":"6.2172ms"}
{"L":"INFO","T":"2024-11-22T05:46:36.436+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T05:46:36.437+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T05:46:36.538+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T05:46:36.539+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T05:46:36.539+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T05:46:43.067+0700","M":"Request received","method":"GET","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-22T05:46:43.068+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T05:46:43.071+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T05:46:43.071+0700","M":"Handler: Received request","method":"GET","path":"/api/products/carts"}
{"L":"ERROR","T":"2024-11-22T05:46:43.071+0700","M":"Handler: Error getting carts","error":"pq: there is no parameter $1"}
{"L":"INFO","T":"2024-11-22T05:46:43.072+0700","M":"Request processed","method":"GET","url":"/api/products/carts","duration":"4.767ms"}
{"L":"INFO","T":"2024-11-22T05:49:15.286+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T05:49:15.287+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T05:49:15.407+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T05:49:15.408+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T05:49:15.408+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T05:49:18.996+0700","M":"Request received","method":"GET","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-22T05:49:18.997+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T05:49:18.999+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T05:49:19.000+0700","M":"Handler: Received request","method":"GET","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T05:49:19.005+0700","M":"Request processed","method":"GET","url":"/api/products/carts","duration":"8.1666ms"}
{"L":"INFO","T":"2024-11-22T05:49:52.335+0700","M":"Request received","method":"GET","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-22T05:49:52.335+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T05:49:52.336+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T05:49:52.337+0700","M":"Handler: Received request","method":"GET","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T05:49:52.338+0700","M":"Request processed","method":"GET","url":"/api/products/carts","duration":"4.0059ms"}
{"L":"INFO","T":"2024-11-22T22:03:56.459+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T22:03:56.467+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T22:03:56.577+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T22:03:56.579+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T22:03:56.579+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T22:05:04.118+0700","M":"Request received","method":"GET","url":"/api/products/total-carts"}
{"L":"DEBUG","T":"2024-11-22T22:05:04.130+0700","M":"Middleware: Processing request","path":"/api/products/total-carts"}
{"L":"WARN","T":"2024-11-22T22:05:04.131+0700","M":"Middleware: Token missing in request"}
{"L":"INFO","T":"2024-11-22T22:05:04.136+0700","M":"Request processed","method":"GET","url":"/api/products/total-carts","duration":"17.5999ms"}
{"L":"INFO","T":"2024-11-22T22:13:14.201+0700","M":"Request received","method":"POST","url":"/login"}
{"L":"INFO","T":"2024-11-22T22:13:14.212+0700","M":"Repository: Executing query","query":"SELECT id, name, email, phone, password FROM users WHERE (email = $1 OR phone = $2) AND password = $3","params":["john.doe@example.com","","password123"]}
{"L":"INFO","T":"2024-11-22T22:13:14.287+0700","M":"Repository: User login successful","userID":1}
{"L":"INFO","T":"2024-11-22T22:13:14.314+0700","M":"Request processed","method":"POST","url":"/login","duration":"112.8103ms"}
{"L":"INFO","T":"2024-11-22T22:13:20.410+0700","M":"Request received","method":"GET","url":"/api/products/total-carts"}
{"L":"DEBUG","T":"2024-11-22T22:13:20.410+0700","M":"Middleware: Processing request","path":"/api/products/total-carts"}
{"L":"WARN","T":"2024-11-22T22:13:20.413+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-22T22:13:20.414+0700","M":"Request processed","method":"GET","url":"/api/products/total-carts","duration":"4.3332ms"}
{"L":"INFO","T":"2024-11-22T22:13:23.558+0700","M":"Request received","method":"GET","url":"/api/products/total-carts"}
{"L":"DEBUG","T":"2024-11-22T22:13:23.558+0700","M":"Middleware: Processing request","path":"/api/products/total-carts"}
{"L":"WARN","T":"2024-11-22T22:13:23.560+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-22T22:13:23.560+0700","M":"Request processed","method":"GET","url":"/api/products/total-carts","duration":"2.7941ms"}
{"L":"INFO","T":"2024-11-22T22:14:31.963+0700","M":"Request received","method":"GET","url":"/api/products/total-carts"}
{"L":"DEBUG","T":"2024-11-22T22:14:31.963+0700","M":"Middleware: Processing request","path":"/api/products/total-carts"}
{"L":"INFO","T":"2024-11-22T22:14:31.965+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T22:14:31.966+0700","M":"Handler: Received request","method":"GET","path":"/api/products/total-carts"}
{"L":"INFO","T":"2024-11-22T22:14:31.969+0700","M":"Request processed","method":"GET","url":"/api/products/total-carts","duration":"5.8369ms"}
{"L":"INFO","T":"2024-11-22T22:18:40.025+0700","M":"Request received","method":"GET","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-22T22:18:40.026+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"WARN","T":"2024-11-22T22:18:40.027+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-22T22:18:40.028+0700","M":"Request processed","method":"GET","url":"/api/products/carts","duration":"3.0044ms"}
{"L":"INFO","T":"2024-11-22T22:18:57.476+0700","M":"Request received","method":"GET","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-22T22:18:57.482+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T22:18:57.483+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T22:18:57.484+0700","M":"Handler: Received request","method":"GET","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T22:18:57.493+0700","M":"Request processed","method":"GET","url":"/api/products/carts","duration":"17.201ms"}
{"L":"INFO","T":"2024-11-22T22:22:53.618+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T22:22:53.619+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T22:22:53.689+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T22:22:53.689+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T22:22:53.690+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T22:23:01.519+0700","M":"Request received","method":"GET","url":"/api/products/total-carts"}
{"L":"DEBUG","T":"2024-11-22T22:23:01.520+0700","M":"Middleware: Processing request","path":"/api/products/total-carts"}
{"L":"INFO","T":"2024-11-22T22:23:01.524+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T22:23:01.524+0700","M":"Handler: Received request","method":"GET","path":"/api/products/total-carts"}
{"L":"INFO","T":"2024-11-22T22:23:01.526+0700","M":"Request processed","method":"GET","url":"/api/products/total-carts","duration":"7.0918ms"}
{"L":"INFO","T":"2024-11-22T22:23:13.383+0700","M":"Request received","method":"GET","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-22T22:23:13.384+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T22:23:13.385+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T22:23:13.386+0700","M":"Handler: Received request","method":"GET","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T22:23:13.389+0700","M":"Request processed","method":"GET","url":"/api/products/carts","duration":"5.5181ms"}
{"L":"INFO","T":"2024-11-22T23:08:28.924+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T23:08:28.926+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T23:08:29.026+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T23:08:29.027+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T23:08:29.027+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T23:09:44.514+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-22T23:09:44.515+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"WARN","T":"2024-11-22T23:09:44.515+0700","M":"Middleware: Token missing in request"}
{"L":"INFO","T":"2024-11-22T23:09:44.516+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"2.1822ms"}
{"L":"INFO","T":"2024-11-22T23:10:06.835+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-22T23:10:06.835+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T23:10:06.848+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T23:10:06.849+0700","M":"Handler: Received request","method":"POST","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T23:10:06.856+0700","M":"Repository: cart added successfully","id":15}
{"L":"INFO","T":"2024-11-22T23:10:06.858+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"22.4415ms"}
{"L":"INFO","T":"2024-11-22T23:10:38.902+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-22T23:10:38.902+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T23:10:38.905+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T23:10:38.905+0700","M":"Handler: Received request","method":"POST","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T23:10:38.910+0700","M":"Repository: cart added successfully","id":15}
{"L":"INFO","T":"2024-11-22T23:10:38.911+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"9.1897ms"}
{"L":"INFO","T":"2024-11-22T23:12:36.507+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T23:12:36.509+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T23:12:36.587+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T23:12:36.588+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T23:12:36.589+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T23:12:41.094+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-22T23:12:41.095+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T23:12:41.099+0700","M":"Middleware: Token validated successfully","userID":1}
{"L":"INFO","T":"2024-11-22T23:12:41.099+0700","M":"Handler: Received request","method":"POST","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T23:12:41.103+0700","M":"Repository: cart added successfully","id":15}
{"L":"INFO","T":"2024-11-22T23:12:41.104+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"9.8761ms"}
{"L":"INFO","T":"2024-11-22T23:32:13.764+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T23:32:13.766+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T23:32:13.848+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T23:32:13.849+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T23:32:13.850+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T23:32:24.671+0700","M":"Request received","method":"POST","url":"/"}
{"L":"INFO","T":"2024-11-22T23:32:24.674+0700","M":"Request processed","method":"POST","url":"/","duration":"3.2103ms"}
{"L":"INFO","T":"2024-11-22T23:32:31.603+0700","M":"Request received","method":"POST","url":"/logout"}
{"L":"ERROR","T":"2024-11-22T23:32:31.610+0700","M":"Handler: token invalid or expired","error":"invalid or expired token"}
{"L":"DEBUG","T":"2024-11-22T23:32:31.611+0700","M":"Handler: token invalid or expired","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-22T23:32:31.612+0700","M":"Request processed","method":"POST","url":"/logout","duration":"9.492ms"}
{"L":"INFO","T":"2024-11-22T23:33:22.148+0700","M":"Request received","method":"POST","url":"/logout"}
{"L":"ERROR","T":"2024-11-22T23:33:22.149+0700","M":"Handler: token invalid or expired","error":"invalid or expired token"}
{"L":"DEBUG","T":"2024-11-22T23:33:22.150+0700","M":"Handler: token invalid or expired","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-22T23:33:22.150+0700","M":"Request processed","method":"POST","url":"/logout","duration":"2.1284ms"}
{"L":"INFO","T":"2024-11-22T23:33:24.168+0700","M":"Request received","method":"POST","url":"/logout"}
{"L":"ERROR","T":"2024-11-22T23:33:24.169+0700","M":"Handler: token invalid or expired","error":"invalid or expired token"}
{"L":"DEBUG","T":"2024-11-22T23:33:24.170+0700","M":"Handler: token invalid or expired","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-22T23:33:24.170+0700","M":"Request processed","method":"POST","url":"/logout","duration":"2.3043ms"}
{"L":"INFO","T":"2024-11-22T23:33:39.132+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-22T23:33:39.132+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"WARN","T":"2024-11-22T23:33:39.134+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-22T23:33:39.135+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"2.6794ms"}
{"L":"INFO","T":"2024-11-22T23:33:46.402+0700","M":"Request received","method":"POST","url":"/login"}
{"L":"INFO","T":"2024-11-22T23:33:46.403+0700","M":"Repository: Executing query","query":"SELECT id, name, email, phone, password FROM users WHERE (email = $1 OR phone = $2) AND password = $3","params":["john.doe@example.com","","password123"]}
{"L":"INFO","T":"2024-11-22T23:33:46.404+0700","M":"Repository: User login successful","userID":1}
{"L":"INFO","T":"2024-11-22T23:33:46.407+0700","M":"Request processed","method":"POST","url":"/login","duration":"4.8667ms"}
{"L":"INFO","T":"2024-11-22T23:33:55.618+0700","M":"Request received","method":"POST","url":"/logout"}
{"L":"INFO","T":"2024-11-22T23:33:55.627+0700","M":"Request processed","method":"POST","url":"/logout","duration":"9.195ms"}
{"L":"INFO","T":"2024-11-22T23:34:53.963+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-22T23:34:53.964+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"WARN","T":"2024-11-22T23:34:53.965+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-22T23:34:53.966+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"2.6507ms"}
{"L":"INFO","T":"2024-11-22T23:35:27.731+0700","M":"Request received","method":"POST","url":"/login"}
{"L":"INFO","T":"2024-11-22T23:35:27.731+0700","M":"Repository: Executing query","query":"SELECT id, name, email, phone, password FROM users WHERE (email = $1 OR phone = $2) AND password = $3","params":["bob.brown@example.com","","password123"]}
{"L":"WARN","T":"2024-11-22T23:35:27.733+0700","M":"Repository: no user found with the provided credentials"}
{"L":"ERROR","T":"2024-11-22T23:35:27.734+0700","M":"Handler: login failed","error":"invalid username or password"}
{"L":"DEBUG","T":"2024-11-22T23:35:27.734+0700","M":"Handler: login failed","error":"invalid username or password"}
{"L":"INFO","T":"2024-11-22T23:35:27.735+0700","M":"Request processed","method":"POST","url":"/login","duration":"3.9957ms"}
{"L":"INFO","T":"2024-11-22T23:35:36.653+0700","M":"Request received","method":"POST","url":"/login"}
{"L":"INFO","T":"2024-11-22T23:35:36.654+0700","M":"Repository: Executing query","query":"SELECT id, name, email, phone, password FROM users WHERE (email = $1 OR phone = $2) AND password = $3","params":["bob.brown@example.com","","password101"]}
{"L":"INFO","T":"2024-11-22T23:35:36.655+0700","M":"Repository: User login successful","userID":4}
{"L":"INFO","T":"2024-11-22T23:35:36.660+0700","M":"Request processed","method":"POST","url":"/login","duration":"6.7217ms"}
{"L":"INFO","T":"2024-11-22T23:35:46.243+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-22T23:35:46.243+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"INFO","T":"2024-11-22T23:35:46.244+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-22T23:35:46.252+0700","M":"Repository: Wishlist added successfully","id":21}
{"L":"INFO","T":"2024-11-22T23:35:46.253+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"10.8139ms"}
{"L":"INFO","T":"2024-11-22T23:36:06.775+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-22T23:36:06.776+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"INFO","T":"2024-11-22T23:36:06.777+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-22T23:36:06.781+0700","M":"Repository: Wishlist added successfully","id":22}
{"L":"INFO","T":"2024-11-22T23:36:06.781+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"5.4224ms"}
{"L":"INFO","T":"2024-11-22T23:36:58.743+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T23:36:58.745+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-22T23:36:58.802+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-22T23:36:58.802+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-22T23:36:58.802+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-22T23:38:52.102+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-22T23:38:52.103+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"INFO","T":"2024-11-22T23:38:52.106+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-22T23:38:52.114+0700","M":"Repository: Wishlist added successfully","id":23}
{"L":"INFO","T":"2024-11-22T23:38:52.115+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"13.2206ms"}
{"L":"INFO","T":"2024-11-22T23:41:23.012+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-22T23:41:23.013+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"WARN","T":"2024-11-22T23:41:23.015+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-22T23:41:23.015+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"3.1411ms"}
{"L":"INFO","T":"2024-11-22T23:41:33.638+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-22T23:41:33.640+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T23:41:33.641+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-22T23:41:33.642+0700","M":"Handler: Received request","method":"POST","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T23:41:33.649+0700","M":"Repository: cart added successfully","id":21}
{"L":"INFO","T":"2024-11-22T23:41:33.650+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"11.3987ms"}
{"L":"INFO","T":"2024-11-22T23:41:44.247+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-22T23:41:44.247+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T23:41:44.248+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-22T23:41:44.249+0700","M":"Handler: Received request","method":"POST","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-22T23:41:44.254+0700","M":"Repository: cart added successfully","id":21}
{"L":"INFO","T":"2024-11-22T23:41:44.255+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"8.2694ms"}
{"L":"INFO","T":"2024-11-23T01:49:17.173+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T01:49:17.175+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T01:49:17.229+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-23T01:49:17.230+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-23T01:49:17.230+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-23T01:50:02.924+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T01:50:02.925+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T01:50:02.963+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-23T01:50:02.963+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-23T01:50:02.963+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-23T01:50:59.823+0700","M":"Request received","method":"POST","url":"/api/products/carts/19"}
{"L":"INFO","T":"2024-11-23T01:50:59.823+0700","M":"Request processed","method":"POST","url":"/api/products/carts/19","duration":"0s"}
{"L":"INFO","T":"2024-11-23T01:51:30.424+0700","M":"Request received","method":"DELETE","url":"/api/products/carts/19"}
{"L":"DEBUG","T":"2024-11-23T01:51:30.425+0700","M":"Middleware: Processing request","path":"/api/products/carts/19"}
{"L":"WARN","T":"2024-11-23T01:51:30.464+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-23T01:51:30.464+0700","M":"Request processed","method":"DELETE","url":"/api/products/carts/19","duration":"39.1688ms"}
{"L":"INFO","T":"2024-11-23T01:51:36.889+0700","M":"Request received","method":"POST","url":"/login"}
{"L":"INFO","T":"2024-11-23T01:51:36.890+0700","M":"Repository: Executing query","query":"SELECT id, name, email, phone, password FROM users WHERE (email = $1 OR phone = $2) AND password = $3","params":["bob.brown@example.com","","password101"]}
{"L":"INFO","T":"2024-11-23T01:51:36.897+0700","M":"Repository: User login successful","userID":4}
{"L":"INFO","T":"2024-11-23T01:51:36.910+0700","M":"Request processed","method":"POST","url":"/login","duration":"20.9954ms"}
{"L":"INFO","T":"2024-11-23T01:51:52.073+0700","M":"Request received","method":"DELETE","url":"/api/products/carts/19"}
{"L":"DEBUG","T":"2024-11-23T01:51:52.073+0700","M":"Middleware: Processing request","path":"/api/products/carts/19"}
{"L":"INFO","T":"2024-11-23T01:51:52.074+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"WARN","T":"2024-11-23T01:51:52.078+0700","M":"Repository: No cart found for the given userID and id"}
{"L":"ERROR","T":"2024-11-23T01:51:52.079+0700","M":"Handler: delete cart failed","error":"no cart found"}
{"L":"INFO","T":"2024-11-23T01:51:52.079+0700","M":"Request processed","method":"DELETE","url":"/api/products/carts/19","duration":"5.267ms"}
{"L":"INFO","T":"2024-11-23T01:52:14.866+0700","M":"Request received","method":"DELETE","url":"/api/products/carts/21"}
{"L":"DEBUG","T":"2024-11-23T01:52:14.866+0700","M":"Middleware: Processing request","path":"/api/products/carts/21"}
{"L":"INFO","T":"2024-11-23T01:52:14.867+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T01:52:14.874+0700","M":"Repository: Cart deleted successfully","id":21,"userID":4}
{"L":"INFO","T":"2024-11-23T01:52:14.874+0700","M":"Request processed","method":"DELETE","url":"/api/products/carts/21","duration":"8.5154ms"}
{"L":"INFO","T":"2024-11-23T01:56:38.331+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-23T01:56:38.331+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-23T01:56:38.332+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T01:56:38.333+0700","M":"Handler: Received request","method":"POST","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-23T01:56:38.355+0700","M":"Repository: cart added successfully","id":23}
{"L":"INFO","T":"2024-11-23T01:56:38.356+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"24.5855ms"}
{"L":"INFO","T":"2024-11-23T01:58:02.704+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-23T01:58:02.705+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-23T01:58:02.706+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T01:58:02.706+0700","M":"Handler: Received request","method":"POST","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-23T01:58:02.707+0700","M":"Repository: cart added successfully","id":23}
{"L":"INFO","T":"2024-11-23T01:58:02.708+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"3.8503ms"}
{"L":"INFO","T":"2024-11-23T01:59:34.526+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T01:59:34.527+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T01:59:34.564+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-23T01:59:34.564+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-23T01:59:34.564+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-23T01:59:46.644+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-23T01:59:46.644+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-23T01:59:46.646+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T01:59:46.647+0700","M":"Handler: Received request","method":"POST","path":"/api/products/carts"}
{"L":"ERROR","T":"2024-11-23T01:59:46.649+0700","M":"Repository: Error executing query","error":"pq: got 1 parameters but the statement requires 2"}
{"L":"ERROR","T":"2024-11-23T01:59:46.650+0700","M":"Handler: add cart failed","error":"pq: got 1 parameters but the statement requires 2"}
{"L":"DEBUG","T":"2024-11-23T01:59:46.650+0700","M":"Handler: add cart failed","error":"pq: got 1 parameters but the statement requires 2"}
{"L":"INFO","T":"2024-11-23T01:59:46.650+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"5.8604ms"}
{"L":"INFO","T":"2024-11-23T02:00:04.157+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:00:04.157+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:00:04.195+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:00:04.196+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-23T02:00:04.196+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-23T02:16:45.715+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:16:45.716+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:16:45.758+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:16:45.758+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-23T02:16:45.758+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-23T02:31:58.834+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:31:58.835+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:31:58.881+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:31:58.881+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-23T02:31:58.881+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-23T02:32:56.027+0700","M":"Request received","method":"PUT","url":"/api/products/carts/23"}
{"L":"DEBUG","T":"2024-11-23T02:32:56.028+0700","M":"Middleware: Processing request","path":"/api/products/carts/23"}
{"L":"WARN","T":"2024-11-23T02:32:56.036+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-23T02:32:56.036+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/23","duration":"8.8302ms"}
{"L":"INFO","T":"2024-11-23T02:33:26.443+0700","M":"Request received","method":"PUT","url":"/api/products/carts/23"}
{"L":"DEBUG","T":"2024-11-23T02:33:26.443+0700","M":"Middleware: Processing request","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T02:33:26.443+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T02:33:26.444+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/23"}
{"L":"ERROR","T":"2024-11-23T02:33:26.449+0700","M":"Repository: Error updating cart quantity","error":"pq: inconsistent types deduced for parameter $3"}
{"L":"ERROR","T":"2024-11-23T02:33:26.450+0700","M":"Handler: updated cart failed","error":"pq: inconsistent types deduced for parameter $3"}
{"L":"DEBUG","T":"2024-11-23T02:33:26.450+0700","M":"Handler: updated cart failed","error":"pq: inconsistent types deduced for parameter $3"}
{"L":"INFO","T":"2024-11-23T02:33:26.450+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/23","duration":"7.8206ms"}
{"L":"INFO","T":"2024-11-23T02:38:02.581+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:38:02.582+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:38:02.620+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:38:02.621+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-23T02:38:02.621+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-23T02:38:12.105+0700","M":"Request received","method":"PUT","url":"/api/products/carts/23"}
{"L":"DEBUG","T":"2024-11-23T02:38:12.105+0700","M":"Middleware: Processing request","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T02:38:12.107+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T02:38:12.107+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/23"}
{"L":"ERROR","T":"2024-11-23T02:38:12.108+0700","M":"Repository: Error updating cart quantity","error":"pq: inconsistent types deduced for parameter $3"}
{"L":"ERROR","T":"2024-11-23T02:38:12.108+0700","M":"Handler: updated cart failed","error":"pq: inconsistent types deduced for parameter $3"}
{"L":"DEBUG","T":"2024-11-23T02:38:12.108+0700","M":"Handler: updated cart failed","error":"pq: inconsistent types deduced for parameter $3"}
{"L":"INFO","T":"2024-11-23T02:38:12.111+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/23","duration":"5.91ms"}
{"L":"INFO","T":"2024-11-23T02:38:13.662+0700","M":"Request received","method":"PUT","url":"/api/products/carts/23"}
{"L":"DEBUG","T":"2024-11-23T02:38:13.663+0700","M":"Middleware: Processing request","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T02:38:13.664+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T02:38:13.664+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/23"}
{"L":"ERROR","T":"2024-11-23T02:38:13.665+0700","M":"Repository: Error updating cart quantity","error":"pq: inconsistent types deduced for parameter $3"}
{"L":"ERROR","T":"2024-11-23T02:38:13.665+0700","M":"Handler: updated cart failed","error":"pq: inconsistent types deduced for parameter $3"}
{"L":"DEBUG","T":"2024-11-23T02:38:13.665+0700","M":"Handler: updated cart failed","error":"pq: inconsistent types deduced for parameter $3"}
{"L":"INFO","T":"2024-11-23T02:38:13.665+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/23","duration":"2.6805ms"}
{"L":"INFO","T":"2024-11-23T02:39:25.802+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:39:25.803+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:39:25.838+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:39:25.839+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-23T02:39:25.839+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-23T02:39:51.710+0700","M":"Request received","method":"PUT","url":"/api/products/carts/23"}
{"L":"DEBUG","T":"2024-11-23T02:39:51.710+0700","M":"Middleware: Processing request","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T02:39:51.712+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T02:39:51.712+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/23"}
{"L":"ERROR","T":"2024-11-23T02:39:51.716+0700","M":"Repository: Error updating cart quantity","error":"sql: no rows in result set"}
{"L":"ERROR","T":"2024-11-23T02:39:51.716+0700","M":"Handler: updated cart failed","error":"sql: no rows in result set"}
{"L":"DEBUG","T":"2024-11-23T02:39:51.716+0700","M":"Handler: updated cart failed","error":"sql: no rows in result set"}
{"L":"INFO","T":"2024-11-23T02:39:51.716+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/23","duration":"6.6064ms"}
{"L":"INFO","T":"2024-11-23T02:40:28.491+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:40:28.492+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:40:28.528+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-23T02:40:28.529+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-23T02:40:28.529+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-23T02:40:32.612+0700","M":"Request received","method":"PUT","url":"/api/products/carts/23"}
{"L":"DEBUG","T":"2024-11-23T02:40:32.613+0700","M":"Middleware: Processing request","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T02:40:32.615+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T02:40:32.615+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T02:40:32.618+0700","M":"Repository: cart quantity updated successfully","id":23}
{"L":"INFO","T":"2024-11-23T02:40:32.619+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/23","duration":"6.4367ms"}
{"L":"INFO","T":"2024-11-23T02:41:43.401+0700","M":"Request received","method":"PUT","url":"/api/products/carts/23"}
{"L":"DEBUG","T":"2024-11-23T02:41:43.401+0700","M":"Middleware: Processing request","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T02:41:43.402+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T02:41:43.403+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T02:41:43.404+0700","M":"Repository: cart quantity updated successfully","id":23}
{"L":"INFO","T":"2024-11-23T02:41:43.405+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/23","duration":"4.0803ms"}
{"L":"INFO","T":"2024-11-23T02:46:29.777+0700","M":"Request received","method":"DELETE","url":"/api/products/carts/21"}
{"L":"DEBUG","T":"2024-11-23T02:46:29.777+0700","M":"Middleware: Processing request","path":"/api/products/carts/21"}
{"L":"INFO","T":"2024-11-23T02:46:29.778+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"WARN","T":"2024-11-23T02:46:29.779+0700","M":"Repository: No cart found for the given userID and id"}
{"L":"ERROR","T":"2024-11-23T02:46:29.779+0700","M":"Handler: delete cart failed","error":"no cart found"}
{"L":"INFO","T":"2024-11-23T02:46:29.779+0700","M":"Request processed","method":"DELETE","url":"/api/products/carts/21","duration":"2.265ms"}
{"L":"INFO","T":"2024-11-23T02:46:38.790+0700","M":"Request received","method":"DELETE","url":"/api/products/carts/1"}
{"L":"DEBUG","T":"2024-11-23T02:46:38.790+0700","M":"Middleware: Processing request","path":"/api/products/carts/1"}
{"L":"INFO","T":"2024-11-23T02:46:38.791+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"WARN","T":"2024-11-23T02:46:38.792+0700","M":"Repository: No cart found for the given userID and id"}
{"L":"ERROR","T":"2024-11-23T02:46:38.792+0700","M":"Handler: delete cart failed","error":"no cart found"}
{"L":"INFO","T":"2024-11-23T02:46:38.793+0700","M":"Request processed","method":"DELETE","url":"/api/products/carts/1","duration":"2.78ms"}
{"L":"INFO","T":"2024-11-23T03:08:33.231+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:08:33.234+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:08:33.337+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:08:33.342+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-23T03:08:33.342+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-23T03:08:52.812+0700","M":"Request received","method":"PUT","url":"/api/products/carts/23"}
{"L":"DEBUG","T":"2024-11-23T03:08:52.813+0700","M":"Middleware: Processing request","path":"/api/products/carts/23"}
{"L":"WARN","T":"2024-11-23T03:08:52.824+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-23T03:08:52.825+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/23","duration":"12.6305ms"}
{"L":"INFO","T":"2024-11-23T03:08:59.515+0700","M":"Request received","method":"POST","url":"/login"}
{"L":"INFO","T":"2024-11-23T03:08:59.516+0700","M":"Repository: Executing query","query":"SELECT id, name, email, phone, password FROM users WHERE (email = $1 OR phone = $2) AND password = $3","params":["bob.brown@example.com","","password101"]}
{"L":"INFO","T":"2024-11-23T03:08:59.522+0700","M":"Repository: User login successful","userID":4}
{"L":"INFO","T":"2024-11-23T03:08:59.539+0700","M":"Request processed","method":"POST","url":"/login","duration":"24.5652ms"}
{"L":"INFO","T":"2024-11-23T03:09:12.338+0700","M":"Request received","method":"PUT","url":"/api/products/carts/23"}
{"L":"DEBUG","T":"2024-11-23T03:09:12.340+0700","M":"Middleware: Processing request","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T03:09:12.342+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T03:09:12.342+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T03:09:12.346+0700","M":"Repository: cart quantity updated successfully","id":23}
{"L":"INFO","T":"2024-11-23T03:09:12.347+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/23","duration":"9.0215ms"}
{"L":"INFO","T":"2024-11-23T03:09:24.703+0700","M":"Request received","method":"PUT","url":"/api/products/carts/23"}
{"L":"DEBUG","T":"2024-11-23T03:09:24.703+0700","M":"Middleware: Processing request","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T03:09:24.704+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T03:09:24.706+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T03:09:24.707+0700","M":"Repository: cart quantity updated successfully","id":23}
{"L":"INFO","T":"2024-11-23T03:09:24.708+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/23","duration":"5.1853ms"}
{"L":"INFO","T":"2024-11-23T03:09:38.506+0700","M":"Request received","method":"PUT","url":"/api/products/carts/23"}
{"L":"DEBUG","T":"2024-11-23T03:09:38.506+0700","M":"Middleware: Processing request","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T03:09:38.508+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T03:09:38.508+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T03:09:38.510+0700","M":"Repository: cart quantity updated successfully","id":23}
{"L":"INFO","T":"2024-11-23T03:09:38.511+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/23","duration":"4.3961ms"}
{"L":"INFO","T":"2024-11-23T03:09:49.200+0700","M":"Request received","method":"PUT","url":"/api/products/carts/23"}
{"L":"DEBUG","T":"2024-11-23T03:09:49.200+0700","M":"Middleware: Processing request","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T03:09:49.201+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T03:09:49.201+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/23"}
{"L":"WARN","T":"2024-11-23T03:09:49.203+0700","M":"Repository: No cart found for the given userID and id"}
{"L":"ERROR","T":"2024-11-23T03:09:49.203+0700","M":"Handler: updated cart failed","error":"no cart found"}
{"L":"DEBUG","T":"2024-11-23T03:09:49.204+0700","M":"Handler: updated cart failed","error":"no cart found"}
{"L":"INFO","T":"2024-11-23T03:09:49.204+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/23","duration":"3.981ms"}
{"L":"INFO","T":"2024-11-23T03:14:50.261+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:14:50.263+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:14:50.332+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:14:50.333+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-23T03:14:50.334+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-23T03:14:59.125+0700","M":"Request received","method":"PUT","url":"/api/products/carts/23"}
{"L":"DEBUG","T":"2024-11-23T03:14:59.126+0700","M":"Middleware: Processing request","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T03:14:59.132+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T03:14:59.133+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/23"}
{"L":"INFO","T":"2024-11-23T03:14:59.136+0700","M":"Repository: cart item deleted successfully","id":23}
{"L":"INFO","T":"2024-11-23T03:14:59.137+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/23","duration":"12.2076ms"}
{"L":"INFO","T":"2024-11-23T03:15:33.276+0700","M":"Request received","method":"PUT","url":"/api/products/carts/19"}
{"L":"DEBUG","T":"2024-11-23T03:15:33.277+0700","M":"Middleware: Processing request","path":"/api/products/carts/19"}
{"L":"INFO","T":"2024-11-23T03:15:33.278+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T03:15:33.279+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/19"}
{"L":"ERROR","T":"2024-11-23T03:15:33.280+0700","M":"Repository: Error deleting cart item","error":"sql: no rows in result set"}
{"L":"ERROR","T":"2024-11-23T03:15:33.281+0700","M":"Handler: updated cart failed","error":"sql: no rows in result set"}
{"L":"DEBUG","T":"2024-11-23T03:15:33.281+0700","M":"Handler: updated cart failed","error":"sql: no rows in result set"}
{"L":"INFO","T":"2024-11-23T03:15:33.282+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/19","duration":"5.9454ms"}
{"L":"INFO","T":"2024-11-23T03:16:05.189+0700","M":"Request received","method":"DELETE","url":"/api/products/carts/19"}
{"L":"DEBUG","T":"2024-11-23T03:16:05.191+0700","M":"Middleware: Processing request","path":"/api/products/carts/19"}
{"L":"INFO","T":"2024-11-23T03:16:05.192+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"WARN","T":"2024-11-23T03:16:05.194+0700","M":"Repository: No cart found for the given userID and id"}
{"L":"ERROR","T":"2024-11-23T03:16:05.194+0700","M":"Handler: delete cart failed","error":"no cart found"}
{"L":"INFO","T":"2024-11-23T03:16:05.194+0700","M":"Request processed","method":"DELETE","url":"/api/products/carts/19","duration":"5.038ms"}
{"L":"INFO","T":"2024-11-23T03:21:14.317+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:21:14.319+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:21:14.389+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:21:14.390+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-23T03:21:14.391+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-23T03:21:22.882+0700","M":"Request received","method":"PUT","url":"/api/products/carts/19"}
{"L":"DEBUG","T":"2024-11-23T03:21:22.883+0700","M":"Middleware: Processing request","path":"/api/products/carts/19"}
{"L":"INFO","T":"2024-11-23T03:21:22.887+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T03:21:22.888+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/19"}
{"L":"ERROR","T":"2024-11-23T03:21:22.890+0700","M":"Repository: Error deleting cart item","error":"sql: no rows in result set"}
{"L":"ERROR","T":"2024-11-23T03:21:22.891+0700","M":"Handler: updated cart failed","error":"sql: no rows in result set"}
{"L":"DEBUG","T":"2024-11-23T03:21:22.892+0700","M":"Handler: updated cart failed","error":"sql: no rows in result set"}
{"L":"INFO","T":"2024-11-23T03:21:22.894+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/19","duration":"11.1912ms"}
{"L":"INFO","T":"2024-11-23T03:21:35.244+0700","M":"Request received","method":"PUT","url":"/api/products/carts/20"}
{"L":"DEBUG","T":"2024-11-23T03:21:35.244+0700","M":"Middleware: Processing request","path":"/api/products/carts/20"}
{"L":"INFO","T":"2024-11-23T03:21:35.246+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T03:21:35.246+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/20"}
{"L":"ERROR","T":"2024-11-23T03:21:35.247+0700","M":"Repository: Error deleting cart item","error":"sql: no rows in result set"}
{"L":"ERROR","T":"2024-11-23T03:21:35.248+0700","M":"Handler: updated cart failed","error":"sql: no rows in result set"}
{"L":"DEBUG","T":"2024-11-23T03:21:35.248+0700","M":"Handler: updated cart failed","error":"sql: no rows in result set"}
{"L":"INFO","T":"2024-11-23T03:21:35.249+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/20","duration":"4.8334ms"}
{"L":"INFO","T":"2024-11-23T03:24:49.114+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:24:49.116+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:24:49.204+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:24:49.206+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-23T03:24:49.206+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-23T03:24:53.252+0700","M":"Request received","method":"PUT","url":"/api/products/carts/20"}
{"L":"DEBUG","T":"2024-11-23T03:24:53.253+0700","M":"Middleware: Processing request","path":"/api/products/carts/20"}
{"L":"INFO","T":"2024-11-23T03:24:53.259+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T03:24:53.259+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/20"}
{"L":"WARN","T":"2024-11-23T03:24:53.262+0700","M":"Repository: No cart found for the given userID and id"}
{"L":"ERROR","T":"2024-11-23T03:24:53.262+0700","M":"Handler: updated cart failed","error":"cart not found"}
{"L":"DEBUG","T":"2024-11-23T03:24:53.263+0700","M":"Handler: updated cart failed","error":"cart not found"}
{"L":"INFO","T":"2024-11-23T03:24:53.264+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/20","duration":"11.3037ms"}
{"L":"INFO","T":"2024-11-23T03:25:01.630+0700","M":"Request received","method":"PUT","url":"/api/products/carts/19"}
{"L":"DEBUG","T":"2024-11-23T03:25:01.631+0700","M":"Middleware: Processing request","path":"/api/products/carts/19"}
{"L":"INFO","T":"2024-11-23T03:25:01.633+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T03:25:01.634+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/19"}
{"L":"WARN","T":"2024-11-23T03:25:01.635+0700","M":"Repository: No cart found for the given userID and id"}
{"L":"ERROR","T":"2024-11-23T03:25:01.635+0700","M":"Handler: updated cart failed","error":"cart not found"}
{"L":"DEBUG","T":"2024-11-23T03:25:01.636+0700","M":"Handler: updated cart failed","error":"cart not found"}
{"L":"INFO","T":"2024-11-23T03:25:01.636+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/19","duration":"6.4236ms"}
{"L":"INFO","T":"2024-11-23T03:25:11.114+0700","M":"Request received","method":"PUT","url":"/api/products/carts/19"}
{"L":"DEBUG","T":"2024-11-23T03:25:11.115+0700","M":"Middleware: Processing request","path":"/api/products/carts/19"}
{"L":"INFO","T":"2024-11-23T03:25:11.116+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T03:25:11.116+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/19"}
{"L":"ERROR","T":"2024-11-23T03:25:11.120+0700","M":"Handler: updated cart failed","error":"cart not found"}
{"L":"DEBUG","T":"2024-11-23T03:25:11.121+0700","M":"Handler: updated cart failed","error":"cart not found"}
{"L":"INFO","T":"2024-11-23T03:25:11.121+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/19","duration":"7.4652ms"}
{"L":"INFO","T":"2024-11-23T03:25:34.213+0700","M":"Request received","method":"PUT","url":"/api/products/carts/5"}
{"L":"DEBUG","T":"2024-11-23T03:25:34.213+0700","M":"Middleware: Processing request","path":"/api/products/carts/5"}
{"L":"INFO","T":"2024-11-23T03:25:34.215+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T03:25:34.216+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/5"}
{"L":"ERROR","T":"2024-11-23T03:25:34.217+0700","M":"Handler: updated cart failed","error":"cart not found"}
{"L":"DEBUG","T":"2024-11-23T03:25:34.218+0700","M":"Handler: updated cart failed","error":"cart not found"}
{"L":"INFO","T":"2024-11-23T03:25:34.218+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/5","duration":"5.8479ms"}
{"L":"INFO","T":"2024-11-23T03:25:36.265+0700","M":"Request received","method":"PUT","url":"/api/products/carts/5"}
{"L":"DEBUG","T":"2024-11-23T03:25:36.266+0700","M":"Middleware: Processing request","path":"/api/products/carts/5"}
{"L":"INFO","T":"2024-11-23T03:25:36.267+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T03:25:36.267+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/5"}
{"L":"ERROR","T":"2024-11-23T03:25:36.268+0700","M":"Handler: updated cart failed","error":"cart not found"}
{"L":"DEBUG","T":"2024-11-23T03:25:36.269+0700","M":"Handler: updated cart failed","error":"cart not found"}
{"L":"INFO","T":"2024-11-23T03:25:36.269+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/5","duration":"4.0379ms"}
{"L":"INFO","T":"2024-11-23T03:27:19.024+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:27:19.025+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:27:19.082+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:27:19.083+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-23T03:27:19.083+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-23T03:27:23.374+0700","M":"Request received","method":"PUT","url":"/api/products/carts/5"}
{"L":"DEBUG","T":"2024-11-23T03:27:23.375+0700","M":"Middleware: Processing request","path":"/api/products/carts/5"}
{"L":"INFO","T":"2024-11-23T03:27:23.378+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T03:27:23.378+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/5"}
{"L":"ERROR","T":"2024-11-23T03:27:23.381+0700","M":"Repository: Error updating cart quantity","error":"sql: no rows in result set"}
{"L":"ERROR","T":"2024-11-23T03:27:23.381+0700","M":"Handler: updated cart failed","error":"sql: no rows in result set"}
{"L":"DEBUG","T":"2024-11-23T03:27:23.382+0700","M":"Handler: updated cart failed","error":"sql: no rows in result set"}
{"L":"INFO","T":"2024-11-23T03:27:23.382+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/5","duration":"8.7435ms"}
{"L":"INFO","T":"2024-11-23T03:32:14.787+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:32:14.788+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:32:14.863+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-23T03:32:14.865+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-23T03:32:14.866+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-23T03:32:44.949+0700","M":"Request received","method":"PUT","url":"/api/products/carts/5"}
{"L":"DEBUG","T":"2024-11-23T03:32:44.950+0700","M":"Middleware: Processing request","path":"/api/products/carts/5"}
{"L":"INFO","T":"2024-11-23T03:32:44.953+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T03:32:44.953+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/5"}
{"L":"WARN","T":"2024-11-23T03:32:44.955+0700","M":"Repository: No cart found for the given userID and id","userID":4,"productID":6,"qty":5}
{"L":"ERROR","T":"2024-11-23T03:32:44.956+0700","M":"Handler: updated cart failed","error":"cart not found"}
{"L":"DEBUG","T":"2024-11-23T03:32:44.956+0700","M":"Handler: updated cart failed","error":"cart not found"}
{"L":"INFO","T":"2024-11-23T03:32:44.956+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/5","duration":"7.4581ms"}
{"L":"INFO","T":"2024-11-23T03:39:39.688+0700","M":"Request received","method":"PUT","url":"/api/products/carts/5"}
{"L":"DEBUG","T":"2024-11-23T03:39:39.689+0700","M":"Middleware: Processing request","path":"/api/products/carts/5"}
{"L":"INFO","T":"2024-11-23T03:39:39.746+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-23T03:39:39.747+0700","M":"Handler: Received request","method":"PUT","path":"/api/products/carts/5"}
{"L":"INFO","T":"2024-11-23T03:39:39.750+0700","M":"Repository: cart quantity updated successfully","id":5}
{"L":"INFO","T":"2024-11-23T03:39:39.751+0700","M":"Request processed","method":"PUT","url":"/api/products/carts/5","duration":"62.7776ms"}
{"L":"INFO","T":"2024-11-24T00:53:08.067+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T00:53:08.071+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T00:53:08.166+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T00:53:08.168+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T00:53:08.169+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T00:54:07.173+0700","M":"Request received","method":"GET","url":"/api/products/address"}
{"L":"DEBUG","T":"2024-11-24T00:54:07.185+0700","M":"Middleware: Processing request","path":"/api/products/address"}
{"L":"WARN","T":"2024-11-24T00:54:07.194+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-24T00:54:07.200+0700","M":"Request processed","method":"GET","url":"/api/products/address","duration":"26.5147ms"}
{"L":"INFO","T":"2024-11-24T00:54:16.574+0700","M":"Request received","method":"POST","url":"/login"}
{"L":"INFO","T":"2024-11-24T00:54:16.585+0700","M":"Repository: Executing query","query":"SELECT id, name, email, phone, password FROM users WHERE (email = $1 OR phone = $2) AND password = $3","params":["bob.brown@example.com","","password101"]}
{"L":"INFO","T":"2024-11-24T00:54:16.593+0700","M":"Repository: User login successful","userID":4}
{"L":"INFO","T":"2024-11-24T00:54:16.615+0700","M":"Request processed","method":"POST","url":"/login","duration":"41.6209ms"}
{"L":"INFO","T":"2024-11-24T00:54:28.183+0700","M":"Request received","method":"GET","url":"/api/products/address"}
{"L":"DEBUG","T":"2024-11-24T00:54:28.183+0700","M":"Middleware: Processing request","path":"/api/products/address"}
{"L":"INFO","T":"2024-11-24T00:54:28.190+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T00:54:28.190+0700","M":"Handler: Received request","method":"GET","path":"/api/products/address"}
{"L":"ERROR","T":"2024-11-24T00:54:28.193+0700","M":"Handler: Error getting address","error":"pq: there is no parameter $1"}
{"L":"DEBUG","T":"2024-11-24T00:54:28.194+0700","M":"Handler: Error getting address","error":"pq: there is no parameter $1"}
{"L":"INFO","T":"2024-11-24T00:54:28.195+0700","M":"Request processed","method":"GET","url":"/api/products/address","duration":"12.2745ms"}
{"L":"INFO","T":"2024-11-24T00:56:22.802+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T00:56:22.803+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T00:56:22.884+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T00:56:22.885+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T00:56:22.886+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T00:56:28.246+0700","M":"Request received","method":"GET","url":"/api/products/address"}
{"L":"DEBUG","T":"2024-11-24T00:56:28.246+0700","M":"Middleware: Processing request","path":"/api/products/address"}
{"L":"INFO","T":"2024-11-24T00:56:28.249+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T00:56:28.250+0700","M":"Handler: Received request","method":"GET","path":"/api/products/address"}
{"L":"ERROR","T":"2024-11-24T00:56:28.251+0700","M":"Repository: failed to scan row","error":"sql: expected 1 destination arguments in Scan, not 2"}
{"L":"ERROR","T":"2024-11-24T00:56:28.252+0700","M":"Handler: Error getting address","error":"sql: expected 1 destination arguments in Scan, not 2"}
{"L":"DEBUG","T":"2024-11-24T00:56:28.253+0700","M":"Handler: Error getting address","error":"sql: expected 1 destination arguments in Scan, not 2"}
{"L":"INFO","T":"2024-11-24T00:56:28.254+0700","M":"Request processed","method":"GET","url":"/api/products/address","duration":"7.9405ms"}
{"L":"INFO","T":"2024-11-24T00:57:06.460+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T00:57:06.461+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T00:57:06.547+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T00:57:06.548+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T00:57:06.548+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T00:57:14.534+0700","M":"Request received","method":"GET","url":"/api/products/address"}
{"L":"DEBUG","T":"2024-11-24T00:57:14.535+0700","M":"Middleware: Processing request","path":"/api/products/address"}
{"L":"INFO","T":"2024-11-24T00:57:14.540+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T00:57:14.540+0700","M":"Handler: Received request","method":"GET","path":"/api/products/address"}
{"L":"ERROR","T":"2024-11-24T00:57:14.542+0700","M":"Repository: failed to unmarshal images JSON","error":"json: cannot unmarshal array into Go value of type string"}
{"L":"ERROR","T":"2024-11-24T00:57:14.543+0700","M":"Handler: Error getting address","error":"json: cannot unmarshal array into Go value of type string"}
{"L":"DEBUG","T":"2024-11-24T00:57:14.544+0700","M":"Handler: Error getting address","error":"json: cannot unmarshal array into Go value of type string"}
{"L":"INFO","T":"2024-11-24T00:57:14.545+0700","M":"Request processed","method":"GET","url":"/api/products/address","duration":"11.0774ms"}
{"L":"INFO","T":"2024-11-24T00:58:36.137+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T00:58:36.139+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T00:58:36.208+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T00:58:36.209+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T00:58:36.209+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T00:58:47.167+0700","M":"Request received","method":"GET","url":"/api/products/address"}
{"L":"DEBUG","T":"2024-11-24T00:58:47.173+0700","M":"Middleware: Processing request","path":"/api/products/address"}
{"L":"INFO","T":"2024-11-24T00:58:47.177+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T00:58:47.178+0700","M":"Handler: Received request","method":"GET","path":"/api/products/address"}
{"L":"INFO","T":"2024-11-24T00:58:47.181+0700","M":"Request processed","method":"GET","url":"/api/products/address","duration":"14.0632ms"}
{"L":"INFO","T":"2024-11-24T01:02:11.223+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-24T01:02:11.225+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-24T01:02:11.246+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\tCOALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,  \n\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\tCOUNT(DISTINCT oi.order_id) AS sold,\n\tCASE WHEN CURRENT_DATE - p.created_at <= INTERVAL '30 days' THEN TRUE ELSE FALSE\n    END AS flag\n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage, p.created_at ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-24T01:02:11.250+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"26.1961ms"}
{"L":"INFO","T":"2024-11-24T01:06:27.480+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:06:27.483+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:06:27.576+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:06:27.578+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:06:27.578+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:06:32.269+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-24T01:06:32.271+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-24T01:06:32.306+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\tCOALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,  \n\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\tCOUNT(DISTINCT oi.order_id) AS sold,\n\tCASE WHEN CURRENT_DATE - p.created_at <= INTERVAL '30 days' THEN TRUE ELSE FALSE\n    END AS is_new\n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage, p.created_at ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-24T01:06:32.323+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"53.6338ms"}
{"L":"INFO","T":"2024-11-24T01:06:50.368+0700","M":"Request received","method":"GET","url":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:06:50.370+0700","M":"Handler: Received request","method":"GET","path":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:06:50.376+0700","M":"Request processed","method":"GET","url":"/api/products/5","duration":"7.7747ms"}
{"L":"INFO","T":"2024-11-24T01:07:04.273+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:07:04.273+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:07:04.277+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"4.1617ms"}
{"L":"INFO","T":"2024-11-24T01:08:20.999+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:08:21.002+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:08:21.103+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:08:21.104+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:08:21.105+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:08:25.756+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:08:25.756+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"ERROR","T":"2024-11-24T01:08:25.760+0700","M":"Repository: failed to scan row","error":"pq: syntax error at or near \"(\""}
{"L":"ERROR","T":"2024-11-24T01:08:25.760+0700","M":"Handler: Product not found","error":"pq: syntax error at or near \"(\""}
{"L":"INFO","T":"2024-11-24T01:08:25.761+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"5.4091ms"}
{"L":"INFO","T":"2024-11-24T01:08:29.400+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:08:29.402+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"ERROR","T":"2024-11-24T01:08:29.403+0700","M":"Repository: failed to scan row","error":"pq: syntax error at or near \"(\""}
{"L":"ERROR","T":"2024-11-24T01:08:29.404+0700","M":"Handler: Product not found","error":"pq: syntax error at or near \"(\""}
{"L":"INFO","T":"2024-11-24T01:08:29.404+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"3.5299ms"}
{"L":"INFO","T":"2024-11-24T01:08:44.669+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:08:44.671+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:08:44.764+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:08:44.765+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:08:44.765+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:08:49.882+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:08:49.882+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:08:49.892+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"9.7177ms"}
{"L":"INFO","T":"2024-11-24T01:09:55.630+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:09:55.633+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:09:55.707+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:09:55.707+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:09:55.708+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:10:00.329+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:10:00.330+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"ERROR","T":"2024-11-24T01:10:00.334+0700","M":"Repository: failed to scan row","error":"pq: invalid input syntax for type json"}
{"L":"ERROR","T":"2024-11-24T01:10:00.335+0700","M":"Handler: Product not found","error":"pq: invalid input syntax for type json"}
{"L":"INFO","T":"2024-11-24T01:10:00.335+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"6.8498ms"}
{"L":"INFO","T":"2024-11-24T01:17:06.309+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:17:06.310+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:17:06.370+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:17:06.371+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:17:06.371+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:17:11.141+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:17:11.141+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"ERROR","T":"2024-11-24T01:17:11.146+0700","M":"Repository: failed to scan row","error":"pq: invalid input syntax for type json"}
{"L":"ERROR","T":"2024-11-24T01:17:11.147+0700","M":"Handler: Product not found","error":"pq: invalid input syntax for type json"}
{"L":"INFO","T":"2024-11-24T01:17:11.148+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"7.2148ms"}
{"L":"INFO","T":"2024-11-24T01:17:16.392+0700","M":"Request received","method":"GET","url":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:17:16.392+0700","M":"Handler: Received request","method":"GET","path":"/api/products/5"}
{"L":"ERROR","T":"2024-11-24T01:17:16.393+0700","M":"Repository: failed to scan row","error":"pq: invalid input syntax for type json"}
{"L":"ERROR","T":"2024-11-24T01:17:16.394+0700","M":"Handler: Product not found","error":"pq: invalid input syntax for type json"}
{"L":"INFO","T":"2024-11-24T01:17:16.394+0700","M":"Request processed","method":"GET","url":"/api/products/5","duration":"2.1441ms"}
{"L":"INFO","T":"2024-11-24T01:18:33.712+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:18:33.714+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:18:33.794+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:18:33.796+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:18:33.796+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:18:40.134+0700","M":"Request received","method":"GET","url":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:18:40.135+0700","M":"Handler: Received request","method":"GET","path":"/api/products/5"}
{"L":"ERROR","T":"2024-11-24T01:18:40.139+0700","M":"Repository: failed to scan row","error":"pq: column \"NULL\" does not exist"}
{"L":"ERROR","T":"2024-11-24T01:18:40.139+0700","M":"Handler: Product not found","error":"pq: column \"NULL\" does not exist"}
{"L":"INFO","T":"2024-11-24T01:18:40.140+0700","M":"Request processed","method":"GET","url":"/api/products/5","duration":"5.7953ms"}
{"L":"INFO","T":"2024-11-24T01:19:22.443+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:19:22.443+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:19:22.623+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:19:22.625+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:19:22.625+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:19:27.253+0700","M":"Request received","method":"GET","url":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:19:27.253+0700","M":"Handler: Received request","method":"GET","path":"/api/products/5"}
{"L":"ERROR","T":"2024-11-24T01:19:27.258+0700","M":"Repository: failed to scan row","error":"pq: invalid input syntax for type json"}
{"L":"ERROR","T":"2024-11-24T01:19:27.258+0700","M":"Handler: Product not found","error":"pq: invalid input syntax for type json"}
{"L":"INFO","T":"2024-11-24T01:19:27.260+0700","M":"Request processed","method":"GET","url":"/api/products/5","duration":"7.0064ms"}
{"L":"INFO","T":"2024-11-24T01:24:33.232+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:24:33.234+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:24:33.327+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:24:33.329+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:24:33.329+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:24:40.022+0700","M":"Request received","method":"GET","url":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:24:40.023+0700","M":"Handler: Received request","method":"GET","path":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:24:40.039+0700","M":"Request processed","method":"GET","url":"/api/products/5","duration":"16.6351ms"}
{"L":"INFO","T":"2024-11-24T01:25:01.234+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:25:01.235+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:25:01.238+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"4.4578ms"}
{"L":"INFO","T":"2024-11-24T01:25:52.317+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:25:52.319+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:25:52.404+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:25:52.405+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:25:52.405+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:26:00.796+0700","M":"Request received","method":"GET","url":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:26:00.796+0700","M":"Handler: Received request","method":"GET","path":"/api/products/5"}
{"L":"ERROR","T":"2024-11-24T01:26:00.800+0700","M":"Repository: failed to scan row","error":"pq: invalid input syntax for type json"}
{"L":"ERROR","T":"2024-11-24T01:26:00.801+0700","M":"Handler: Product not found","error":"pq: invalid input syntax for type json"}
{"L":"INFO","T":"2024-11-24T01:26:00.802+0700","M":"Request processed","method":"GET","url":"/api/products/5","duration":"6.0503ms"}
{"L":"INFO","T":"2024-11-24T01:27:19.541+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:27:19.544+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:27:19.635+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:27:19.636+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:27:19.637+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:27:24.189+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:27:24.190+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"ERROR","T":"2024-11-24T01:27:24.200+0700","M":"Repository: failed to scan row","error":"sql: expected 12 destination arguments in Scan, not 11"}
{"L":"ERROR","T":"2024-11-24T01:27:24.201+0700","M":"Handler: Product not found","error":"sql: expected 12 destination arguments in Scan, not 11"}
{"L":"INFO","T":"2024-11-24T01:27:24.202+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"12.8894ms"}
{"L":"INFO","T":"2024-11-24T01:28:06.509+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:28:06.510+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:28:06.582+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:28:06.583+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:28:06.584+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:28:11.274+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:28:11.274+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:28:11.288+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"13.8944ms"}
{"L":"INFO","T":"2024-11-24T01:28:22.885+0700","M":"Request received","method":"GET","url":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:28:22.885+0700","M":"Handler: Received request","method":"GET","path":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:28:22.889+0700","M":"Request processed","method":"GET","url":"/api/products/5","duration":"4.321ms"}
{"L":"INFO","T":"2024-11-24T01:28:47.901+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-24T01:28:47.901+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-24T01:28:47.908+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\tCOALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,  \n\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\tCOUNT(DISTINCT oi.order_id) AS sold,\n\tCASE WHEN CURRENT_DATE - p.created_at <= INTERVAL '30 days' THEN TRUE ELSE FALSE\n    END AS is_new\n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage, p.created_at ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-24T01:28:47.912+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"10.8772ms"}
{"L":"INFO","T":"2024-11-24T01:31:59.017+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:31:59.018+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:31:59.095+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:31:59.096+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:31:59.096+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:32:06.810+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-24T01:32:06.811+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-24T01:32:06.820+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\tCOALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,  \n\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\tCOUNT(DISTINCT oi.order_id) AS sold,\n\tCASE WHEN CURRENT_DATE - p.created_at <= INTERVAL '30 days' THEN TRUE ELSE FALSE\n    END AS is_new\n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage, p.created_at ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-24T01:32:06.823+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"12.1313ms"}
{"L":"INFO","T":"2024-11-24T01:32:22.071+0700","M":"Request received","method":"GET","url":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:32:22.073+0700","M":"Handler: Received request","method":"GET","path":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:32:22.077+0700","M":"Request processed","method":"GET","url":"/api/products/5","duration":"5.1654ms"}
{"L":"INFO","T":"2024-11-24T01:34:00.731+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:34:00.733+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:34:00.801+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:34:00.802+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:34:00.803+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:34:05.570+0700","M":"Request received","method":"GET","url":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:34:05.570+0700","M":"Handler: Received request","method":"GET","path":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:34:05.581+0700","M":"Request processed","method":"GET","url":"/api/products/5","duration":"11.7472ms"}
{"L":"INFO","T":"2024-11-24T01:35:17.340+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:35:17.342+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:35:17.428+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:35:17.429+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:35:17.429+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:35:24.162+0700","M":"Request received","method":"GET","url":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:35:24.163+0700","M":"Handler: Received request","method":"GET","path":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:35:24.171+0700","M":"Request processed","method":"GET","url":"/api/products/5","duration":"8.3566ms"}
{"L":"INFO","T":"2024-11-24T01:41:24.367+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:41:24.368+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:41:24.554+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:41:24.555+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:41:24.555+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:41:29.612+0700","M":"Request received","method":"GET","url":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:41:29.613+0700","M":"Handler: Received request","method":"GET","path":"/api/products/5"}
{"L":"ERROR","T":"2024-11-24T01:41:29.622+0700","M":"Repository: failed to unmarshal variant JSON","error":"unexpected end of JSON input"}
{"L":"ERROR","T":"2024-11-24T01:41:29.623+0700","M":"Handler: Product not found","error":"unexpected end of JSON input"}
{"L":"INFO","T":"2024-11-24T01:41:29.623+0700","M":"Request processed","method":"GET","url":"/api/products/5","duration":"11.3155ms"}
{"L":"INFO","T":"2024-11-24T01:43:31.235+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:43:31.237+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:43:31.329+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:43:31.330+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:43:31.330+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:43:35.287+0700","M":"Request received","method":"GET","url":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:43:35.288+0700","M":"Handler: Received request","method":"GET","path":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:43:35.296+0700","M":"Request processed","method":"GET","url":"/api/products/5","duration":"9.241ms"}
{"L":"INFO","T":"2024-11-24T01:43:52.089+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:43:52.089+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:43:52.099+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"9.7011ms"}
{"L":"INFO","T":"2024-11-24T01:49:10.255+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:49:10.256+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:49:10.319+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:49:10.319+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:49:10.320+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:49:23.430+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-24T01:49:23.432+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-24T01:49:23.444+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\tCOALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,  \n\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\tCOUNT(DISTINCT oi.order_id) AS sold,\n\tCASE WHEN CURRENT_DATE - p.created_at <= INTERVAL '30 days' THEN TRUE ELSE FALSE\n    END AS is_new\n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage, p.created_at ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-24T01:49:23.450+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"19.1931ms"}
{"L":"INFO","T":"2024-11-24T01:49:30.976+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-24T01:49:30.977+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-24T01:49:30.981+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\tCOALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,  \n\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\tCOUNT(DISTINCT oi.order_id) AS sold,\n\tCASE WHEN CURRENT_DATE - p.created_at <= INTERVAL '30 days' THEN TRUE ELSE FALSE\n    END AS is_new\n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage, p.created_at ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-24T01:49:30.983+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"7.7916ms"}
{"L":"INFO","T":"2024-11-24T01:49:47.636+0700","M":"Request received","method":"GET","url":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:49:47.636+0700","M":"Handler: Received request","method":"GET","path":"/api/products/1"}
{"L":"INFO","T":"2024-11-24T01:49:47.640+0700","M":"Request processed","method":"GET","url":"/api/products/1","duration":"4.3247ms"}
{"L":"INFO","T":"2024-11-24T01:49:59.060+0700","M":"Request received","method":"GET","url":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:49:59.060+0700","M":"Handler: Received request","method":"GET","path":"/api/products/5"}
{"L":"INFO","T":"2024-11-24T01:49:59.063+0700","M":"Request processed","method":"GET","url":"/api/products/5","duration":"2.5096ms"}
{"L":"INFO","T":"2024-11-24T01:52:46.289+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:52:46.290+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:52:46.336+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T01:52:46.336+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T01:52:46.336+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T01:53:16.136+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-24T01:53:16.136+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"WARN","T":"2024-11-24T01:53:16.138+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-24T01:53:16.138+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"1.974ms"}
{"L":"INFO","T":"2024-11-24T01:54:02.141+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-24T01:54:02.141+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"INFO","T":"2024-11-24T01:54:02.145+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"ERROR","T":"2024-11-24T01:54:02.162+0700","M":"Repository: Error executing query","error":"pq: duplicate key value violates unique constraint \"wishlists_user_id_product_id_key\""}
{"L":"ERROR","T":"2024-11-24T01:54:02.164+0700","M":"Handler: add wishlist failed","error":"pq: duplicate key value violates unique constraint \"wishlists_user_id_product_id_key\""}
{"L":"DEBUG","T":"2024-11-24T01:54:02.164+0700","M":"Handler: add wishlist failed","error":"pq: duplicate key value violates unique constraint \"wishlists_user_id_product_id_key\""}
{"L":"INFO","T":"2024-11-24T01:54:02.165+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"24.215ms"}
{"L":"INFO","T":"2024-11-24T01:54:20.973+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-24T01:54:20.973+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"INFO","T":"2024-11-24T01:54:20.975+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T01:54:20.980+0700","M":"Repository: Wishlist added successfully","id":7}
{"L":"INFO","T":"2024-11-24T01:54:20.981+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"8.0475ms"}
{"L":"INFO","T":"2024-11-24T02:00:13.971+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-24T02:00:13.971+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"INFO","T":"2024-11-24T02:00:14.018+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"ERROR","T":"2024-11-24T02:00:14.023+0700","M":"Repository: Error executing query","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"ERROR","T":"2024-11-24T02:00:14.023+0700","M":"Handler: add wishlist failed","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"DEBUG","T":"2024-11-24T02:00:14.023+0700","M":"Handler: add wishlist failed","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"INFO","T":"2024-11-24T02:00:14.024+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"53.2169ms"}
{"L":"INFO","T":"2024-11-24T02:00:32.621+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T02:00:32.622+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T02:00:32.662+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T02:00:32.663+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T02:00:32.663+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T02:00:36.636+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-24T02:00:36.637+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"INFO","T":"2024-11-24T02:00:36.639+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"ERROR","T":"2024-11-24T02:00:36.648+0700","M":"Repository: Error executing query","error":"pq: insert or update on table \"wishlists\" violates foreign key constraint \"wishlists_product_id_fkey\""}
{"L":"ERROR","T":"2024-11-24T02:00:36.649+0700","M":"Handler: add wishlist failed","error":"product already exists in wishlist"}
{"L":"DEBUG","T":"2024-11-24T02:00:36.649+0700","M":"Handler: add wishlist failed","error":"product already exists in wishlist"}
{"L":"INFO","T":"2024-11-24T02:00:36.649+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"12.8268ms"}
{"L":"INFO","T":"2024-11-24T02:00:55.008+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-24T02:00:55.009+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"INFO","T":"2024-11-24T02:00:55.009+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"ERROR","T":"2024-11-24T02:00:55.018+0700","M":"Repository: Error executing query","error":"pq: duplicate key value violates unique constraint \"wishlists_user_id_product_id_key\""}
{"L":"ERROR","T":"2024-11-24T02:00:55.018+0700","M":"Handler: add wishlist failed","error":"product already exists in wishlist"}
{"L":"DEBUG","T":"2024-11-24T02:00:55.019+0700","M":"Handler: add wishlist failed","error":"product already exists in wishlist"}
{"L":"INFO","T":"2024-11-24T02:00:55.019+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"10.7798ms"}
{"L":"INFO","T":"2024-11-24T02:05:17.918+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T02:05:17.919+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T02:05:17.961+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T02:05:17.962+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T02:05:17.963+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T02:05:27.946+0700","M":"Request received","method":"POST","url":"/api/products/wishlist"}
{"L":"DEBUG","T":"2024-11-24T02:05:27.947+0700","M":"Middleware: Processing request","path":"/api/products/wishlist"}
{"L":"INFO","T":"2024-11-24T02:05:27.948+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"ERROR","T":"2024-11-24T02:05:27.950+0700","M":"Repository: Error executing query","error":"pq: duplicate key value violates unique constraint \"wishlists_user_id_product_id_key\""}
{"L":"ERROR","T":"2024-11-24T02:05:27.951+0700","M":"Handler: add wishlist failed","error":"product not found or product already exists in wishlist"}
{"L":"DEBUG","T":"2024-11-24T02:05:27.951+0700","M":"Handler: add wishlist failed","error":"product not found or product already exists in wishlist"}
{"L":"INFO","T":"2024-11-24T02:05:27.952+0700","M":"Request processed","method":"POST","url":"/api/products/wishlist","duration":"5.4723ms"}
{"L":"INFO","T":"2024-11-24T02:06:18.782+0700","M":"Request received","method":"GET","url":"/api/products"}
{"L":"INFO","T":"2024-11-24T02:06:18.782+0700","M":"Handler: Received request","method":"GET","path":"/api/products"}
{"L":"INFO","T":"2024-11-24T02:06:18.792+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n\tCOALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,  \n\tCOALESCE(AVG(r.rating), 0) as average_rating,\n\tCOUNT(DISTINCT oi.order_id) AS sold,\n\tCASE WHEN CURRENT_DATE - p.created_at <= INTERVAL '30 days' THEN TRUE ELSE FALSE\n    END AS is_new\n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE 1=1\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage, p.created_at ORDER BY p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-24T02:06:18.793+0700","M":"Request processed","method":"GET","url":"/api/products","duration":"11.3368ms"}
{"L":"INFO","T":"2024-11-24T02:06:29.306+0700","M":"Request received","method":"GET","url":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-24T02:06:29.306+0700","M":"Handler: Received request","method":"GET","path":"/api/products/best-selling"}
{"L":"INFO","T":"2024-11-24T02:06:29.313+0700","M":"Repository: executed query","query":"\n\tSELECT p.id, p.name, p.images->>0 AS thumbnail_image, p.price, \n    COALESCE(CASE WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n\tELSE 0 \n\tEND, 0) AS discount_percentage,\n \t\tCASE \n    WHEN COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) = 0 THEN 0\n    ELSE CAST(p.price AS FLOAT) * (1 - CAST(COALESCE(\n    CASE \n        WHEN MAX(wp.start_date) <= CURRENT_DATE AND MAX(wp.end_date) >= CURRENT_DATE THEN wp.discount_percentage\n        ELSE 0\n    END, 0) AS FLOAT) / 100.0) END AS discount_price,\n    COALESCE(AVG(r.rating), 0) AS average_rating,\n    COUNT(DISTINCT oi.order_id) AS sold,\n\tCASE WHEN CURRENT_DATE - p.created_at <= INTERVAL '30 days' THEN TRUE ELSE FALSE\n    END AS is_new \n\tFROM products p\n\tJOIN categories c ON p.category_id = c.id\n\tLEFT JOIN ratings r ON p.id = r.product_id\n\tLEFT JOIN order_items oi ON p.id = oi.product_id\n\tLEFT JOIN orders o ON oi.order_id = o.id\n\tLEFT JOIN weekly_promotions wp ON p.id = wp.product_id\n\tWHERE DATE_TRUNC('month', o.created_at) = DATE_TRUNC('month', CURRENT_DATE)\n\t GROUP BY p.id, p.name, p.images, p.price, wp.discount_percentage, p.created_at ORDER BY sold DESC, p.id ASC LIMIT $1 OFFSET $2","params":[5,0]}
{"L":"INFO","T":"2024-11-24T02:06:29.315+0700","M":"Request processed","method":"GET","url":"/api/products/best-selling","duration":"9.7707ms"}
{"L":"INFO","T":"2024-11-24T02:06:43.769+0700","M":"Request received","method":"GET","url":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-24T02:06:43.769+0700","M":"Handler: Received request","method":"GET","path":"/api/products/weekly-promotion"}
{"L":"INFO","T":"2024-11-24T02:06:43.770+0700","M":"Request processed","method":"GET","url":"/api/products/weekly-promotion","duration":"1.8845ms"}
{"L":"INFO","T":"2024-11-24T02:06:52.817+0700","M":"Request received","method":"GET","url":"/api/products/recomments"}
{"L":"INFO","T":"2024-11-24T02:06:52.817+0700","M":"Handler: Received request","method":"GET","path":"/api/products/recomments"}
{"L":"INFO","T":"2024-11-24T02:06:52.826+0700","M":"Request processed","method":"GET","url":"/api/products/recomments","duration":"9.6144ms"}
{"L":"INFO","T":"2024-11-24T02:08:14.039+0700","M":"Request received","method":"GET","url":"/api/products/recomments"}
{"L":"INFO","T":"2024-11-24T02:08:14.041+0700","M":"Handler: Received request","method":"GET","path":"/api/products/recomments"}
{"L":"INFO","T":"2024-11-24T02:08:14.041+0700","M":"Request processed","method":"GET","url":"/api/products/recomments","duration":"1.7743ms"}
{"L":"INFO","T":"2024-11-24T02:08:46.806+0700","M":"Request received","method":"DELETE","url":"/api/products/wishlist/12"}
{"L":"DEBUG","T":"2024-11-24T02:08:46.807+0700","M":"Middleware: Processing request","path":"/api/products/wishlist/12"}
{"L":"INFO","T":"2024-11-24T02:08:46.808+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"WARN","T":"2024-11-24T02:08:46.814+0700","M":"Repository: No wishlist found for the given userID and id"}
{"L":"ERROR","T":"2024-11-24T02:08:46.814+0700","M":"Handler: delete wishlist failed","error":"no wishlist found"}
{"L":"INFO","T":"2024-11-24T02:08:46.814+0700","M":"Request processed","method":"DELETE","url":"/api/products/wishlist/12","duration":"7.4733ms"}
{"L":"INFO","T":"2024-11-24T02:08:56.342+0700","M":"Request received","method":"DELETE","url":"/api/products/wishlist/7"}
{"L":"DEBUG","T":"2024-11-24T02:08:56.343+0700","M":"Middleware: Processing request","path":"/api/products/wishlist/7"}
{"L":"INFO","T":"2024-11-24T02:08:56.344+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T02:08:56.346+0700","M":"Repository: Wishlist deleted successfully","id":7,"userID":4}
{"L":"INFO","T":"2024-11-24T02:08:56.346+0700","M":"Request processed","method":"DELETE","url":"/api/products/wishlist/7","duration":"4.6708ms"}
{"L":"INFO","T":"2024-11-24T02:09:07.377+0700","M":"Request received","method":"GET","url":"/api/categories"}
{"L":"INFO","T":"2024-11-24T02:09:07.378+0700","M":"Handler: Received request","method":"GET","path":"/api/categories"}
{"L":"INFO","T":"2024-11-24T02:09:07.379+0700","M":"Request processed","method":"GET","url":"/api/categories","duration":"1.3162ms"}
{"L":"INFO","T":"2024-11-24T02:09:28.092+0700","M":"Request received","method":"GET","url":"/api/banners"}
{"L":"INFO","T":"2024-11-24T02:09:28.093+0700","M":"Handler: Received request","method":"GET","path":"/api/banners"}
{"L":"INFO","T":"2024-11-24T02:09:28.099+0700","M":"Request processed","method":"GET","url":"/api/banners","duration":"7.4803ms"}
{"L":"INFO","T":"2024-11-24T02:09:49.093+0700","M":"Request received","method":"GET","url":"/api/products/total-carts"}
{"L":"DEBUG","T":"2024-11-24T02:09:49.094+0700","M":"Middleware: Processing request","path":"/api/products/total-carts"}
{"L":"INFO","T":"2024-11-24T02:09:49.095+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T02:09:49.096+0700","M":"Handler: Received request","method":"GET","path":"/api/products/total-carts"}
{"L":"INFO","T":"2024-11-24T02:09:49.097+0700","M":"Request processed","method":"GET","url":"/api/products/total-carts","duration":"4.8649ms"}
{"L":"INFO","T":"2024-11-24T02:10:04.311+0700","M":"Request received","method":"GET","url":"/api/products/address"}
{"L":"DEBUG","T":"2024-11-24T02:10:04.311+0700","M":"Middleware: Processing request","path":"/api/products/address"}
{"L":"INFO","T":"2024-11-24T02:10:04.312+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T02:10:04.312+0700","M":"Handler: Received request","method":"GET","path":"/api/products/address"}
{"L":"INFO","T":"2024-11-24T02:10:04.313+0700","M":"Request processed","method":"GET","url":"/api/products/address","duration":"2.5175ms"}
{"L":"INFO","T":"2024-11-24T02:10:09.509+0700","M":"Request received","method":"GET","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-24T02:10:09.509+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"WARN","T":"2024-11-24T02:10:09.512+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-24T02:10:09.512+0700","M":"Request processed","method":"GET","url":"/api/products/carts","duration":"3.4483ms"}
{"L":"INFO","T":"2024-11-24T02:10:15.142+0700","M":"Request received","method":"GET","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-24T02:10:15.142+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T02:10:15.142+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T02:10:15.143+0700","M":"Handler: Received request","method":"GET","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T02:10:15.144+0700","M":"Request processed","method":"GET","url":"/api/products/carts","duration":"2.0552ms"}
{"L":"INFO","T":"2024-11-24T11:34:33.612+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T11:34:33.614+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T11:34:33.678+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T11:34:33.679+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T11:34:33.679+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T11:34:53.833+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-24T11:34:53.834+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"WARN","T":"2024-11-24T11:34:53.837+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-24T11:34:53.839+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"5.5999ms"}
{"L":"INFO","T":"2024-11-24T11:35:00.770+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-24T11:35:00.770+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T11:35:00.771+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T11:35:00.772+0700","M":"Handler: Received request","method":"POST","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T11:35:00.788+0700","M":"Repository: cart added successfully","id":13}
{"L":"INFO","T":"2024-11-24T11:35:00.788+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"17.7105ms"}
{"L":"INFO","T":"2024-11-24T11:56:59.064+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-24T11:56:59.071+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T11:56:59.120+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T11:56:59.121+0700","M":"Handler: Received request","method":"POST","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T11:56:59.134+0700","M":"Repository: cart added successfully","id":14}
{"L":"INFO","T":"2024-11-24T11:56:59.134+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"70.653ms"}
{"L":"INFO","T":"2024-11-24T11:57:08.291+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-24T11:57:08.292+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T11:57:08.293+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T11:57:08.294+0700","M":"Handler: Received request","method":"POST","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T11:57:08.295+0700","M":"Repository: cart added successfully","id":15}
{"L":"INFO","T":"2024-11-24T11:57:08.297+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"5.4662ms"}
{"L":"INFO","T":"2024-11-24T12:45:18.044+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-24T12:45:18.050+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T12:45:18.103+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T12:45:18.103+0700","M":"Handler: Received request","method":"POST","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T12:45:18.110+0700","M":"Repository: cart added successfully","id":16}
{"L":"INFO","T":"2024-11-24T12:45:18.110+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"65.1377ms"}
{"L":"INFO","T":"2024-11-24T12:45:21.976+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-24T12:45:21.976+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T12:45:21.977+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T12:45:21.977+0700","M":"Handler: Received request","method":"POST","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T12:45:21.978+0700","M":"Repository: cart added successfully","id":17}
{"L":"INFO","T":"2024-11-24T12:45:21.978+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"2.3583ms"}
{"L":"INFO","T":"2024-11-24T12:45:42.354+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-24T12:45:42.355+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T12:45:42.356+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T12:45:42.356+0700","M":"Handler: Received request","method":"POST","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T12:45:42.357+0700","M":"Repository: cart added successfully","id":14}
{"L":"INFO","T":"2024-11-24T12:45:42.358+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"3.6367ms"}
{"L":"INFO","T":"2024-11-24T12:49:42.834+0700","M":"Request received","method":"DELETE","url":"/api/products/carts/14"}
{"L":"DEBUG","T":"2024-11-24T12:49:42.834+0700","M":"Middleware: Processing request","path":"/api/products/carts/14"}
{"L":"INFO","T":"2024-11-24T12:49:42.835+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T12:49:42.836+0700","M":"Repository: Cart deleted successfully","id":14,"userID":4}
{"L":"INFO","T":"2024-11-24T12:49:42.836+0700","M":"Request processed","method":"DELETE","url":"/api/products/carts/14","duration":"2.4363ms"}
{"L":"INFO","T":"2024-11-24T13:07:38.480+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T13:07:38.482+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T13:07:38.542+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T13:07:38.542+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T13:07:38.543+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T13:07:59.358+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-24T13:07:59.359+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T13:07:59.361+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T13:07:59.361+0700","M":"Handler: Received request","method":"POST","path":"/api/products/carts"}
{"L":"ERROR","T":"2024-11-24T13:07:59.364+0700","M":"Repository: Error executing query","error":"sql: no rows in result set"}
{"L":"ERROR","T":"2024-11-24T13:07:59.364+0700","M":"Handler: add cart failed","error":"sql: no rows in result set"}
{"L":"DEBUG","T":"2024-11-24T13:07:59.364+0700","M":"Handler: add cart failed","error":"sql: no rows in result set"}
{"L":"INFO","T":"2024-11-24T13:07:59.364+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"5.5628ms"}
{"L":"INFO","T":"2024-11-24T14:39:35.882+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T14:39:35.883+0700","M":"Logger initialized successfully"}
{"L":"INFO","T":"2024-11-24T14:39:35.935+0700","M":"Database connection initialized successfully"}
{"L":"INFO","T":"2024-11-24T14:39:35.936+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"DEBUG","T":"2024-11-24T14:39:35.936+0700","M":"Loaded configuration","AppName":"E-commerce","Port":"8080"}
{"L":"INFO","T":"2024-11-24T14:43:12.824+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-24T14:43:12.824+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"WARN","T":"2024-11-24T14:43:12.827+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-24T14:43:12.827+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"3.6562ms"}
{"L":"INFO","T":"2024-11-24T14:43:28.486+0700","M":"Request received","method":"POST","url":"/login"}
{"L":"INFO","T":"2024-11-24T14:43:28.488+0700","M":"Repository: Executing query","query":"SELECT id, name, email, phone, password FROM users WHERE (email = $1 OR phone = $2) AND password = $3","params":["bob.brown@example.com","","password101"]}
{"L":"INFO","T":"2024-11-24T14:43:28.491+0700","M":"Repository: User login successful","userID":4}
{"L":"INFO","T":"2024-11-24T14:43:28.492+0700","M":"Request processed","method":"POST","url":"/login","duration":"6.1789ms"}
{"L":"INFO","T":"2024-11-24T14:43:41.398+0700","M":"Request received","method":"POST","url":"/api/products/carts"}
{"L":"DEBUG","T":"2024-11-24T14:43:41.398+0700","M":"Middleware: Processing request","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T14:43:41.399+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T14:43:41.399+0700","M":"Handler: Received request","method":"POST","path":"/api/products/carts"}
{"L":"INFO","T":"2024-11-24T14:43:41.402+0700","M":"Repository: cart added successfully","id":13}
{"L":"INFO","T":"2024-11-24T14:43:41.403+0700","M":"Request processed","method":"POST","url":"/api/products/carts","duration":"4.6813ms"}
{"L":"INFO","T":"2024-11-24T14:44:25.213+0700","M":"Request received","method":"POST","url":"/api/products/orders"}
{"L":"DEBUG","T":"2024-11-24T14:44:25.214+0700","M":"Middleware: Processing request","path":"/api/products/orders"}
{"L":"WARN","T":"2024-11-24T14:44:25.214+0700","M":"Middleware: Invalid or expired token","error":"invalid or expired token"}
{"L":"INFO","T":"2024-11-24T14:44:25.215+0700","M":"Request processed","method":"POST","url":"/api/products/orders","duration":"2.2815ms"}
{"L":"INFO","T":"2024-11-24T14:44:32.912+0700","M":"Request received","method":"POST","url":"/api/products/orders"}
{"L":"DEBUG","T":"2024-11-24T14:44:32.912+0700","M":"Middleware: Processing request","path":"/api/products/orders"}
{"L":"INFO","T":"2024-11-24T14:44:32.913+0700","M":"Middleware: Token validated successfully","userID":4}
{"L":"INFO","T":"2024-11-24T14:44:32.914+0700","M":"Handler: Received request","method":"POST","path":"/api/products/orders"}
{"L":"ERROR","T":"2024-11-24T14:44:32.914+0700","M":"Handler: invalid request payload","error":"json: cannot unmarshal object into Go value of type []model.OrderItem"}
{"L":"INFO","T":"2024-11-24T14:44:32.914+0700","M":"Request processed","method":"POST","url":"/api/products/orders","duration":"2.249ms"}
